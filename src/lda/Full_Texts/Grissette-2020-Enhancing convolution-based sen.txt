Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42
https://doi.org/10.1007/s13721-020-00248-5

ORIGINAL ARTICLE

Enhancing convolution‑based sentiment extractor via dubbed N‑gram
embedding‑related drug vocabulary
Hanane Grissette1

· El Habib Nfaoui1

Received: 5 January 2020 / Revised: 28 April 2020 / Accepted: 29 May 2020 / Published online: 17 June 2020
© Springer-Verlag GmbH Austria, part of Springer Nature 2020

Abstract
Everyday patients’ narratives on social media can reveal crucial public health issues. Mining those online narratives, which
remained so far unconsidered, may mirror further hidden patient health status. Deep learning-based sentiment analysis (SA)
approaches broadly focus on grammar directions such as semantic direction or only center on extract sentiment words. They
provide both richer representation capabilities and better performance but do not consider the related medication concepts.
As a result, the inaccurate recognition of related drug entities may seriously fail to retrieve the relevant sentiment expressed,
leading to a lower recall than desired. Thus, the frequent use of informal medical language, non-standard format, wrongly
spelled, and abbreviation forms, as well as typos in social media messages, has to be taken into consideration. In other words,
the core of efficiently quantifying the sentimental aspects for related medication texts hardly involves a degree of medical
language comprehension. In this paper, we seek to improve the importance of considering related drug entities that keep
appearing in new Unicode Versions, ranging from drugs’ names, disease symptoms, drug misuse to potentially adverse
effects. We propose N-gram-based convolution vocabulary scheme, which is dedicated mainly to featuring text under medical setting and clarifying related sentiment at the same level. This vectorization results in highly sentiment extraction, which
produces medical concept normalization under distributed dependency. This architecture’s layers are a shared neural network
between the medical featuring channel and the bidirectional sentiment information detector channel. Fewer approaches are
proposed in this matter, we evaluate the effectiveness and transferability of this study across five benchmarking datasets and
various online medication-related posts (Twitter posts, Parkinson’s disease forum’s discussions), which were significantly
better than all other baselines.
Keywords Drug-related knowledge · Medical sentiment analysis · Bidirectional LSTM · Convolutional neural network ·
Biomedical natural language processing

1 Introduction

El Habib Nfaoui
elhabib.nfaoui@usmba.ac.ma

patient self-report on social media frequently brings to our
notice varied elements range from drug compliance, medical
issues, product accessibility issues to potential side effects.
Furthermore, a study conducted by Grissette and Nfaoui
(2019) assumed that a considerable number of narratives,
harmful responses suspected to be caused by related affective posts. That means, other medical aspects lead to subjectivity direction in patient self-reports rather than emotional
expressions, which concern their experiences. The exploitation of such overwhelming unstructured data on social media
through sentiment analysis (SA) is of critical importance
(Adil 2017). In the last decade, sentiment analysis has huge
attention, a tremendous number of general scope tools and
approaches have been proposed, but in the depend-domain

LISAC Laboratory, Faculty of Sciences Dhar EL Mehraz,
Sidi Mohamed Ben Abdellah University, Fez, Morocco

1
https​://www.pewre​searc​h.org/inter​net/2013/11/26/part-one-wholives​-with-chron​ic-condi​tions​/.

For many users, social media is part of their daily life routine. Shared experiences concerning the patient’s health
status, medical conditions, or treatment play a pivotal role
in terms of observations to fix relevant patient liveable problems as descriptions of medication results.1 Previous experiments note that in clinical narratives, only between 5 and
11% opinionated terms identified (Kai et al. 2018), where
* Hanane Grissette
hanane.grissette@usmba.ac.ma

1

13

Vol.:(0123456789)

42 Page 2 of 16

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

Fig. 1  Sample tweet treats wrongly spelled adverse drug reaction by
the user toward asthma disease

such as medical domain, minimal approaches are released.
Indeed, lexicon-based approaches need extensive corpora
for training and defining sentiment information regarding
medical aspects.
However, deep neural network has improved the accuracy
of many text tasks due to its ability to learn and capture the
syntactic and semantic relations. Embedding approaches are
the most accurate methods used for constructing vector representations of words and documents. Nevertheless, in such
a dependent domain, they have several limitations, and there
is a need for improvement regarding sentiment information
to increase the accuracy of such SA tasks. In particular, two
successful neural network methods of word embedding are
word2ve (Mikolov et al. 2013) and Global vector (GLOVE)
(Pennington et al. 2014), both are similar and efficiently capture the salient statistical characteristics of the distribution
of sequences of words. Although very useful, these methods have certain limits and are underemployed for sentiment
analysis tasks in our case (Fig. 1).
Many baselines require massive medical human-labeled
data or make use of medical resources for weak supervision
and general sentiment lexicon scope, which results in inaccurate sentiment prediction performance. Since they need
vast corpora for training, they provide an acceptable vector
for each word used for many text classification tasks, with
satisfactory performance, e.g., Google News used about 100
billion words but is not the case with medical context. The
pre-trained vectors of these methods ignore the relationships
between terms that do not co-occur, e.g., drug names, Doctor
Names, which means they do not generate a vector for words
from the outside of pre-trained vectors. Another essential
problem with these word embedding techniques is that they
ignore the sentiment information of the given text and do not
define valuable information for dialogue act recognition in
other different languages (Araque et al. 2017).
We propose to develop automatic joined models dedicated
to both defining drug-related patterns and clarifying the
corresponding sentiment; an enhanced medical setting for
sentiment extractor via a dubbed drug-related N-gram convolution-based vocabulary scheme. Assessing the hypothesis
of richer word characterization derives on multidimensional
aspects concerning the medication process through minute
personalization as follows: (1) we built N-gram convolutions for drug-related recognition process, which is further translated to formal language by incorporating formal

13

medical language used in the descriptions of medical concepts in standard ontologies. (2) Medical concept normalization under distributed medical dependency has convoyed
for drug-related conceptualization at the level of sentence
pair. We assume the expansion of distributional semantics
(Araque et al. 2017) that encapsulates both semantic and
contextual information through sequential properties. Meaning, our primary goal is to incorporate related drug narratives used for a diverse set of conditions and those high rates
of usage, which further assumes to be daily updated by a
set of online experiences. (3) This process is joined with an
efficient sentiment extractor model that relies on identifying medication-related sentiment information as targets from
large daily volumes of unlabeled data.
This paper is an extended version of the work initially
presented in the HI-BI-BI (2019) conference in conjunction
with 2019 ASONAM (Grisstte and Nfaoui 2019). We extend
our previous work by enhancing embedding-related drug
concept representation via N-gram-based convolutions of
drug representation vs. disease recognition process, which
used further to extract relevant sentiment-related patterns. A
tailored form of transfer learning have been approached for
constructing related-drug corpora from vast shared experiences by incorporating formal medical knowledge. The
remainder of this paper is organized as follows: Sect. 2 overviews the related work in the context of sentiment analysis
and medical concept normalization. Section 3 presents the
proposed Ensemble models. Section 4 outlines the experimentation results, and finally, Sect. 5 concludes the paper
and highlights some perspectives.

2 Related work
Sentiment analysis (SA) is offering real opportunities to
obtain fine grain data on patients and their environments.
It is a sophisticated task that requires techniques from various fields; many recent studies have been performed in this
context.

2.1 Medical sentiment analysis approaches
Nowadays, an increased interest has been shown in analyzing health social media content. With the aim of turning
patient’s experiences reported on social media into actionable information, Adil (2017) has attested as to how the social
network can help establish positive links that contribute to
the treatment of the same disease. Moreover, people who
are in the treatment of chronic diseases resort to groups and
communities in social media to feel better and catch up with
news about their illness (Kim et al. 2016; Han et al. 2017;
Belousov et al. 2017). Many SA tools were developed in this
context, SentiHealthCancer (SHC-pt) (Rodrigues et al. 2014)

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

is among the most effective tools that improve the detection
of the emotional state of patients in Brazilian online cancer
communities. Alternatively, Rodrigues et al. (2014) developed a framework that consists of medical entity extraction for recognizing patient discussions of drugs and events.
Another study (Nikfarjam et al. 2015) explored the value of
patient intelligence on pharmacovigilance in social media,
whereas Tu-Bao et al. (2016) proposed the early detection
of the Twitter trend, which was faster than Google Trends.
They considered temporal changes in the number of tweets
to decide the emerging topic. The polarity of tweets was
decided using sentiment lexica like SenticNet3, SWN, etc.,
where the polarity of novel words was determined by plotting a relational graph of emerging political tweets at different time periods. Many recent works have been inspired
by embedding hypothesis in a general context, where many
improved pre-trained word embeddings have been presented by combining NLU techniques and lexicon-based
approaches. Moreover, Neural network Natural Language
Understanding (NLU)-based methods have received much
more attention and are a sophisticated task for medicationrelated text regarding sentiment information; Nikfarjam
et al. (2015) proposed an ensemble strategy that combined
the results of different sub-extractors, making the sentiment
information Extractor more universal. We have conducted
a comparison in previous work (Kai et al. 2018). Stanford
CoreNLP (Mikolov et al. 2013), DepecheMood (Han et al.
2017), SentiWordnet (Limsopatham and Collier 2016), NRC
Word-Emotion Association Lexicon EmoLex are some
effective non-dependent-domain lexicons NLP-based sentiment classification.

2.2 Medical concept normalisation
Monitoring data from social media has been considered as
a new approach for collecting evidence and improving the
understanding of patients’ experience in healthcare, such as
the spread of infectious diseases and side effects of drugs,
treatment failure, and even a potential unsuspected drug side
effect. Patients self-report various medical concepts when
they may use hashtags, specific mentions, abbreviations,
smileys, or different variations of the same concept in terms
of illness or drug reactions. The frequent use of informal
language, non-standard grammar, and abbreviation forms,
as well as typos in social media messages, has to be taken
into account by effective information extraction systems.
An important scope of analysis is drug safety surveillance
also referred to as pharmacovigilance; it has predominantly relied on various data sources that include standard
medical ontologies (Pennington et al. 2014). It has begun
exploring methods to identify and extract various medical
entities from the medication-related text on social media.
Many studies basically map them to concepts in controlled

Page 3 of 16 42

vocabularies such as the Unified Medical Language System
(UMLS), including MetaMap, MedLEEand cTAKES, and
knowledge map (Tu-Bao et al. 2016). One of the most useful studies which demonstrated that natural language processing (NLP) techniques could be used for the extraction
of valuable drug-safety information from social media is
Nikfarjam et al. (2015). A study of active learning methods
for medical entity recognition is performed as a sequential
labeling task. A sample selection approach integrated with
supervised ML was performed using the annotated NER corpus from the 2010 i2b2/VA NLP challenge that contained
349 clinical documents with 20,423 unique sentences (Wei
et al. 2013). Traditional machine learning models, such as
support vector machine (SVM), random forest (RF), linear
regression (LR), and K-nearest neighbor (model-KNN),
often ignore the contextual word order information in texts
or have data sparsity problem when they learn feature representation for sentiment analysis. Moreover, they do not
adopt the specific lexicons regarding the daily pharma life
sciences and healthcare news such as the spread of infectious
disease or events’ names. Meanwhile, social network is a
valuable resource for recognizing and extracting the phenotype information of unexpected post-market reactions
of drugs. Other prior studies focused on exploring existing
or customized different medical concepts systems such as
adverse drug event reactions (ADR) lexicons to find ADR
mentions in user posts. Effective utilization of the healthrelated knowledge contained in social media is widely a
joint effort by the research community, e.g., (Araque et al.
2017), is an efficient baseline that proposed a data system
for medication-related text classification and concept normalization from Twitter. Moreover, several kinds of research
were conducted to explore drug–drug interactions or drug
AE automatically. The word and phrase detection based on
many available lexicon resources (Tu-Bao et al. 2016). The
last-cited work has built a corpus for mining drug-related
knowledge from Twitter chatter. They used this corpus to
generate several language models that capture distributed
word representations and probabilities of N-gram sequences
from patients who self-reported on Twitter. Biomedical text
mining (including biomedical natural language processing or
BioNLP) incorporates ideas from natural language processing, bioinformatics, medical informatics, and computational
linguistics. They widely applied to biomedical and molecular biology, such as PubMed (2012). PubMed a free search
engine accessing primarily the MEDLINE database of references and abstracts on life sciences and biomedical topics
that comprises more than 29 million citations for biomedical
literature from MEDLINE, life science journals, and online
books. Citations may include links to full-text content from
PubMed Central and publisher web sites. About twenty billion are typed in Twitter every day; new ADRs keep appearing in each new Unicode version, SwellShark (Wei et al.

13

42 Page 4 of 16

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

2013) is a generative model for Biomedical Named Entity
Recognition that requires no human-labeled data but does
make use of resources for weak supervision (e.g., UMLS
semantic types). A web application had been performed,
such as PubTator (José et al. 2019), which is a text-mining tool for both Web and API access, ezTag (Frank et al.
2007) a web-based annotation system for tagging biomedical concepts via interactive learning, and Meshable (Kim
et al. 2016) that helps search PubMed by utilizing MeSH
and MeSH-derived topical terms.

2.3 Deep learning approaches
Nowadays, there is a remarkable growing number of sentiment analysis tools, libraries, and approaches that have been
proposed, such as AlchemyAPI, Semantaria, SentiStrength,
and Textalytics. We have conducted a comparison of the
same in the previous work. Deep learning-based neural network models have achieved great success in many NLP tasks
in the past few years, including learning a distributed word,
sentence, and document representation (Garcia-Pelaez et al.
2019), parsing (Kim et al. 2016), statistical machine translation, and sentence classification (Belousov et al. 2017).
Learning-distributed sentence representation through neural
network models reaches satisfactory results in related tasks
like sentiment classification and text categorization. With
the development of pre-trained word embeddings (Rodrigues et al. 2014; Wei et al. 2013; Garcia-Pelaez et al. 2019;
Frank et al. 2007), these neural networks demonstrate their
exceptional performance in sentiment analysis. Although
the word-based embedding methods for sentiment analysis
are effective, they have several limitations, especially in the
context of medical and pharma analysis.
Nevertheless, deep learning can also boost the accuracy
of learning sentiment towards a specific object in different
contexts. Nowadays, convolutional neural network (CNN)
and recurrent neural network (RNN) are two popular deep
learning neural network-based models that are widely used
for sentiment analysis tasks such as sentiment intensity prediction. An interesting study by Sarker and Gonzalez (2017)
that proposed sequence learning with RNNs for medical
concept normalization on user-generated texts. It is basically based on bidirectional LSTM with attention mechanism and additional semantic similarity features. Others
(Han et al. 2017; Belousov et al. 2017) have used recurrent
neural networks (RNNs) for phrase normalization in tweets
and providing similar performances. At the same time, (Limsopatham and Collier 2016) applied convolutional neural
networks (CNN) to user reviews that experimented with
CNN and pre-trained word embedding for mapping social
media texts to medical concepts. These works were among
the first applications of deep learning methods for medical
concept normalization. They have predominantly attested

13

to the richness of patient reports of drug-related issues and
reactions on social media by extracting and translating a text
from “social media language” to “formal medical language.”
In the following section, we present in detail our methodology, the vectorization scheme used to build a hybrid representation under distributed dependency, and medical concept
translation methodology.

2.4 Summary
Most existing SA approaches are generic and result in modest SA performance for medication-related text. At the same
time, it is not tied to medical-dependent vocabulary regarding sentiment information in various contexts. As the above
discussion illustrates, increasing the accuracy of the sentiment prediction model assumes the existence of sentimentrelated annotated medical vocabulary. In this paper, we focus
on identifying drug-related and medication-related concepts
from patient-generated narratives to develop a robust and
accurate sentiment analysis model in this context; this is the
first work to explore this area thoroughly.

3 Proposed ensemble models
We propose a deep learning-based architecture dedicated
mainly to identifying drug-related concepts from a text on
social media and link them with the corresponding UMLs
metathesaurus concepts and other medical knowledge. More
specifically, we compiled an exhaustive list of ADR/drug concepts and their corresponding UMLs IDs, including concepts
from DrugBank Dataset. First, we probe the translation-based
approach between patient’s language used in social media
messages and formal medical language used in the descriptions of medical concepts in standard ontologies. Second,
medical concept normalization under distributed dependency
has convoyed for drug-related conceptualization at the level
of sentence pair. This architecture’s layer is a shared neural
network between the medical featuring channel and the bidirectional sentiment information detector channel.

3.1 Medication knowledge‑related normalisation
and modelling
Patients and health consumers are storming medicationrelated experiences intentionally on social media. A rich
and high-dimensional data have a wide variety of medical concepts and medical facts that require well-encoding
approaches to exceed sentiment analysis performance successfully. However, the traditional system treats words as
discrete atomic symbols linked to sentiment score and,
therefore, encoded them as unique representation and provides no useful sentiment-related information to the policy

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

2.

3.
4.

Fig. 2  The proposed process to create drug-related vocabulary patterns

regarding medical concepts, their semantic, and their context. Meaning, SA model is leveraged very little of what it
should learn about the sentiment expressed towards medication-related concepts as a target of analysis such as abstracts
or drug effects.
More specifically, the frequent use of informal language,
non-standard grammar, and abbreviation forms of medical
concepts, as well as typos in social media messages, is the
most challenging task and has to be taken into account. As
illustrated in Fig. 2, we focus on developing a practical and
specific batch normalization approach. Though this task of
medical concept normalization aims at mapping a variable
feature length from social media message to a medical concept in standard external coding of standard ontology regarding the semantic level, which further co-occurs in varied
contexts by different manners. Another central idea in this
process is constructing online meta-concepts by convolving
a convolution to define formal vectors to new concepts.
3.1.1 Drug‑related social media corpora
There are few corpora of drug-related knowledge from
patient-generated narratives on social media; choosing the
proper combinations of corpora of drug-related knowledge
has a vital role in exceeding sentiment analysis. We choose
five benchmarking corpora as the medical resources for both
training, evaluating, and testing.
1. The first corpus2 is for mining drug-related knowledge from Twitter chatter (Sarker and Gonzalez 2017)
2

http://diego​.asu.edu/Publi​catio​ns/Drugc​hatte​r.html.

5.

Page 5 of 16 42

which consists of 267,215 Twitter posts made during
the 4 months. The posts mention over 250 drug-related
keywords. This corpus is used to generate several distributed word representations in this context.
The PsyTAR​3 dataset (Zolnoori et al. 2019), The Psychiatric Treatment Adverse Reactions contains 891
patients’ drug reviews. Each review is labeled for the
presence of adverse drug reaction (ADR), withdrawal
symptoms (WDs), drug effectiveness (EF), drug
indications(DIs), sign/symptoms/illness (SSIs), drug
infectiveness (INF), and others.
The DrugBank4 database with 1440 drugs and 248,146
drug–drug interactions.
The SMM4H 5 corpus (Sarker et al. 2018), social
media mining for health monitoring and surveillance
(SMM4H) is a large corpus for medication-related text
classification and concept normalization. This corpus is
trained on Twitter data, and deals specifically with many
linguistic variations and semantic complexities in various ways people express medication-related concepts
and outcomes.
The ADRMINE6 ADR Corpus (Nikfarjam et al. 2015)
from patient drug-related mentions on Twitter, a corpus
for drug concepts and bio-concept extraction that has
been built based on machine learning system which uses
conditional random fields (CRFs). The corpus’s method
utilized a variety of features for modeling words’ semantic similarities.

3.1.2 Drug‑related translator patterns from social media
The presence of an adverse drug reaction (ADR) candidate
in text may seriously fail to retrieve the appropriate sentiment expressed, leading to a lower recall than desired. The
problem of ADRs detection on social media is clarified
through several specific tasks such as searching for related
literature on available medical knowledge. The most prior
successful ADR detection methods are based on a sequencelabeling approach that mainly employs conditional random
field (CRF). Indeed, CRFs limited by the scope of their
input, where the model considers only the target word and
its neighboring words within a fixed-width window. Therefore, they could exclude important information mentioned
more distantly (Cocos et al. 2017). Recently, deep learning
methods have played an increasing role that exceeds ADR

3

https ​ : //sites ​ . googl ​ e .com/view/pharm ​ a covi ​ g ilan ​ c einp ​ s ychi ​ a try/
home.
4
https​://www.drugb​ank.ca/relea​ses/5-1-5/downl​oads/all-full-datab​
ase.
5
https​://doi.org/10.17632​/rxwfb​3tysd​.1.
6
http://diego​.asu.edu/Publi​catio​ns/ADRMi​ne.

13

42 Page 6 of 16

Phrase-based machine translation (P-MT) (Limsopatham and
Collier 2016)

Bidirectional LSTM for labeling adverse drug reactions
(Cocos et al. 2017)
Social media mining for health monitoring and
surveillance(SMM4H)-based CNN, and SVM algorithm
(Sarker et al. 2018)

0.72
Side effect resource (SIDER), Consumer health vocabulary
(CHV), The coding symbols for a thesaurus of adverse reaction terms (COSTART)
Twitter ADR dataset, Twitter Word2vec, and the labeled
0.75
ADHD dataset
15 717 annotated tweets for adverse drug reactions (ADRs),10 Subtask-1: 0.435 , 0.693 for subtask-2, and 88.5 % for subtask-3. Ensembles of system combinations obtained best
260 for medication consumption, from medication-mentionscores of 0.476, 0.702, and 88.7%, outperforming individual
ing tweets, 6650 ADR phrases and identifiers
systems
0.81% on AskAPatient dataset,TwADR-S and TwADR-L
CNN-RNN method that automatically identifies medicationdatasets (0.45)
related mentions regarding medical conditions contexts and
translates social media text to formal medical language
Supervised sequence CRF ADRMine with CNN-RNN model
(Nikfarjam et al. 2015)

F1-measure
Medical knowledge used
Algorithm and vectorization scheme

Table 1  Summary of neural-based network ADR detection and prediction on social media

13

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

detection performance from patient-generated narratives.
Most of these methods have used Word Embedding Features
(Nikfarjam et al. 2015) as inputs for RNN or CNN model.
According to Table 1, a combination of pre-trained embeddings increases the accuracy of pre-trained word embedding,
which further proves their role in mining adverse drug reaction mentioned on social media.
As illustrated in Sect. 3.1.1, we focus on creating a hybrid
vectorization scheme based on a combination of medical
knowledge for better retrieving the correspondence format of
drug-related concepts on online posts. We proceed by many
steps, as shown in Fig. 2 to enrich the vocabulary by daily
life drug or treatment discussions.
The overall process is exhibited in Fig. 3. As depicted
in this figure, our proposed architecture convolved in many
joined channels as follows:
(i) The main model is dedicated to translating ADRs and
drug-related knowledge from texts, and map them to
embedding corpora to concatenate embedding features for each concept. Then we apply convolutions
to learn patterns through the predefined corpora.
Technically, the medication-related text is prepared
by considering a sequence of individual documents
for getting multiple meanings/context regarding sentiment information. A hybrid vectorization scheme is
designed to both struggles with the correct format of
the medical concept-based neural network transition
approach and embedding regeneration at document
level.
(ii) Online Twitter data normalization is assessed by
incorporating and executing an external medicationrelated knowledge and data systems to empower our
medical concept recognition model. We extend this
point for defining similarity values for undefined
medical concepts. Next is the convolution-based
transition method for identifying medical expressions on social media texts such as ADRs by learning semantic representations, we approach this step
by extending a phrase-based machine translation for
ADR corpora from social media. Meaning, a transition between the patient’s language used in social
media messages and formal medical language used
in the descriptions of medical concepts in a standard
ontology. We enrich this step by updating corpora by
learning from online data and correcting format from
the first data system.
(iii) At the document level, an embedding regeneration
is performed to track the various possible contexts
of the conceptualized vectors. There are different
embedding approaches. Both are creating document
vectors; one approach would be GLOVE, which
works on word-level that we adopt it to work at the

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

Page 7 of 16 42

Fig. 3  The proposed translation-based model for ADRs and drug-related knowledge from texts

document level as a sequence of words by leveraging
word vectors. On the other hand, another predictive
approach, e.g., doc2vec, is widely used for creating
document vectors. Doc2Vec sentence-level encoding
technique presents many inconveniences for relatedmedication text, for example, it provides unique representation and discrete ids that leads to data sparsity.
Both perform similarly well, but Glove trains a little
faster, it would be enriched with TFIDF feature that
considers the frequency of such medical concept to
measure the effectiveness or damage. Another advantage is leveraging the strength of medical concepts
literally co-occur in various contexts regarding sentiment information.

dataset with vectors of 300 dimensions (Pennington et al.
2014). Indeed, we imitate the Glove weights of tweets that
show up in our training vocabulary and used for tokens in
every tweet. We perform the closest vector inside the matrix
by measuring the cosine distance of Glove vectors for each
token outside this embedding matrix, which would leverage
as an additional feature. This method will improve our network by learning embeddings of documents also when we
feed our normalized online Twitter data instead. Besides,
the input is a set of vocabulary words, which is further sentimentally labeled through the next channel.
Since the number of contexts can be large, it factorizes the
matrix to get a lower dimensional matrix of tweets, which

The main alternative is constructing meta-words embeddings by initializing the embedding matrix by vectors predefined by GLOVE as a supervised classification problem,
the pre-trained count-based method of Twitter GLOVE7

7

https​://nlp.stanf​ord.edu/data/glove​.twitt​er.27B.zip.

Fig. 4  A Tweet posted on 2019-05-26 at 13:56:37.864000

13

42 Page 8 of 16

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

Fig. 5  Pairwise similarity measure process

represents words by features. The novelty in this step is the
embeddings documents save sentiment information for each
context and counts how frequently it sees it in the same context. As shown in Fig. 4, possible ADR expression translated
to the formal medical language used in the descriptions of
medical concepts in a standard ontology (Sarker et al. 2018).
The whole process is shared between the medical concept
normalization model and the Embedding technique, and the
output holds the concatenation of all features vector. We
map results down to a small, dense vector for each document. We would mainly be able to identify exact duplicates,
unsuspected medical concepts, and facts such as undefined
ADRs or infectious diseases by making practically online
rich information useless for tracking gaps.
Given a fake supervised task, predicting sentimentrelated information based on their similarities. We assigned
sentiment score to each medical concept. A low sentiment
value (− 1) implies negative autocorrelation because we
mapped the expressions of prohibited negative medical
facts (such as ADRs mention, WDs mention, DIs mentions,
sign, symptom, illness (SSIs) mention, or drug infectiveness (INF) mentions) with very negative sentiment. The
difference between them is relatively small. A high value
(1) for a positive flag, for example, sentences contains drug
effectiveness (EF) mentions. We finally update all entities
linked to the original posts where we assume that tweet contains ADRs firmly classified as a negative post. Technically,
after translating medical concepts from the text, we added
to previous vectors of labeled datasets we used. In the next

13

step, sentiment scores of each word are extracted from all
lexicons and will normalize them. If a word does not exist in
any dictionary, its score will be calculated from very similar
concepts’ score. The generated vectors from the last step
will be concatenated with other vectors from previous levels.
3.1.3 Pairwise ADR/drug similarity matching
A pairwise similarity matrix is used to detect whether a
given candidate pair of text conveys the same drug-related
knowledge. The element-wise difference was computed
between these semantic representations to get the discrepancy measure. Meaning, convolution is used to learn the
patterns of pairwise semantic resemblance and are applied
to the similarity matrix to define unit-to-unit similarities.
For the given pair of l1-length Sentence S1 and l2-length
Sentence S2, S1 and S2 is represented by embeddings vector. Figure 5 illustrates this process.
To compute this semantic discrepancy measure, we define
the similarity matrix with the size of l1xl2 via embedding
vectors of the pairwise units of our medical knowledge, by
computing cosine similarity between the matched-pairs of
units. A similar pair of units has to be compared to every
unit vector in the matrix with all the unit vectors in another
one we use. We approach this step by creating a convolutional neural network that consists of four layers. We first
define the possible correspondences between corpora vectors, by one-dimensional convolution cross-correlation with
n-input channels. The outputs of the last convolution layer

Page 9 of 16 42

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

are fed into a k-max-pooling layer, which extracts the top k
most important features and gives it into flattened layer to
leverage them, which computes a new adapted K value for
each iteration.
3.1.4 Sentiment feature generator for drug‑related
concepts
Despite the abundance of English sentiment lexicons, analyzing sentiment in such dependent domain such as pharmaceutical/medical domain suffers from the lack of such
resources. Limited progress on automated medical concept
extraction approaches from the medication-related text,
which relies on sentiment information. Moreover, many
machine learning-based contributions have also resulted
in sparse space with no sentiment information insights. As
patients’ self-report experiences are growing up on social
media, describing all incredible details of their treatment
procedures, the importance of such semantic and sentimental density does as well. The sentiment modelling
problem is at the core of many sentiment analysis tasks
that involve a degree of medical language comprehension.
Our goal is to dub a dynamic sentiment learning process to
identify relevant keys of real emotions expressed toward a
specific medical entity regarding daily usages.
It is evident from the above discussion, and we need
to dive further deep to comprehend the sentiment since
sentiment expressed towards drug-related targets rarely
observed or not observed at all. In this step, we propose to
apply convolutions on online data that rely mainly on the
pairwise similarity matrix discussed in Sect. 3.1.2. Meaning, the sentiment is mainly dubbed on the obtained vocabulary, which relies on minute online Twitter data to meet
the changes which are far higher than of today than ever.
An essential task after extracting concepts, and the phrases
indicating the drugs is to discover the sentiment-related
relations among such concepts and sentences, especially
those that characterize ADRs, or the cause of the ADRs.
A third cluster-based model is proposed that derives
sentiment features at both sentence levels. Technically,
the vocabulary assembles for each new subword, and the
subword was assigned a vector containing the standard
statistical features overall dimensions and terms of the
space, when the term may convey different sentiments in
various contexts. Indeed, annotators are usually uncertain
about the total sentiment value of a given condition, and
we approach this step by incorporating an embedding
regeneration that serves to identify sentiment regarding
multiple meanings or contexts. We construct a large matrix
of subwords by the framework that discriminates positive
or negative sentiment regarding online shared information, medication-related expressions, and the embedding
relationship between all terms in the space.

Existing sentiment lexicons unconsidered many medical-related concepts that fail to retrieve the real expressed
sentiment. In this study, we proceed to clarify and compute
the sentiment score, especially for the undefined medical
subword,in which we fix the similarity window of a given
concept (we randomly choose the size). In the first step,
we randomly fix n similar concept in both negative context
and, respectively, for positive class. Then we proceed with
three main steps discussed in Sect. 3.1.4 to retrieve the
score based on the medical annotation and semantically
matching. The sentiment rate is based on three statistical
features:
• TF-IDF weight for each word/phrase in the space;
• sentiment-related embeddings value generated within the

translation process;

• pairwise similarity matching between words in the same

class.

To assign which class is relatively positive and which is
negative, we consider initial quantification in terms of
cosine similarity; N-gram sequences are weighted by how
close they are to each other. Then we properly use TFIDF
scores of each word in each sentence to consider the unique
every word that appears in various contexts; a simple dot
product is used to indicate the sentiment average. Next,
new coordinates of every class are calculated, as the mean
of coordinates of all data points assigned to each centroid,
and iterations are repeated till reaching a minimum value
of the squared sum of distances between points awarded
to classes.

3.2 Sentiment classification model
The traditional approach used to summarize sentiment intensity is to consider the text as a combination of its words and
get the quantity of sentiment with the utilization of additional resources such as sentiment dictionaries or ontologies,
thesauri, and multiple-polarity corpora.
Sentiment intensity usually quantifies in a binary fashion,
which assigned a high score to the positive polarity and low
score to negative polarity (Adil 2017). The problem is that
these resources quantify sentiment in non-dependent context
and do not fit with medication-related text. Otherwise, lexicon-based approaches can achieve excellent performance.
Still, they often require large amounts of annotated samples, which are expensive to build due to the requirement of
domain annotation experts, especially in the medical context
due to highly knowledgeable surfaces. Otherwise, the hybrid
vectorization previously described in Sect. 3.1.2 results with
a minute embedding representation tied with overall sentiment orientation of the tweet that leveraging the strength of
convolution-based medical vocabulary regarding sentiment

13

42 Page 10 of 16

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

information. That means, our proposed architecture is carrying of sentiment expressed regarding drug-related concepts in the text, and the number of dimensions (emotions)
is lexicon dependent. At the same time, for each size, a given
term can be scored either in a different way using a specific
rating scale.
Besides, we aim at sparsely figuring out the way of
how people express emotion regarding medication and
patient’s backgrounds by memorizing how sentiment
changes over experiences under varied medical conditions.
We also focused on exploring contextual and semantic
connections of the previously conceptualized vocabulary,
and detect the relevant features saving the relationship
between them. There are different ways we can approach
this architecture, e.g., recurrent neural network (RNN),
but the problem with simple deep learning algorithm is
the inability to build long-term dependencies and packageable stories. Indeed, one approach is exploring sentimentrelated vocabulary based on the characteristics of bidirectional LSTM. Another essential aspect of learning is
the attention mechanism, which allows deciding what the
most relevant data to memorize regarding the sentiment
value it has are.
We point at summarizing sentiment-related vocabulary
regarding relevant components to be computationally efficient for predicting the conveyed sentiment. The model
would be divided into two parts: (1) BiLSTM sentiment
learning and (2) attention mechanism. The contextual sentiment quantity will be effectively leveraged through the
BiLSTM sentiment learning step when a re-released summarization will be done in the second step. The embedding
sentiment-related Matrix is fed to BiLSTM sentiment learning layers to efficiently build a memorable story that will
be able to understand sentiment information regarding various medical concepts and remember the context behind the
sequences.

4 Results and output data of the study
The ensemble models were constructed on two levels:
target feature-based level and sentence-based embedding Level. Our goal relies on building a meta-concept
vocabulary concerning: (i) internal semantic and sequential properties, and (ii) the conceptualized drug-related
representation for online posts, which is considered a bidirectional map of the obtained encoded features map in the
sequence that is fed as input to the BiLSTM network. The
memorizable long-term dependencies learned by the RNN
become the semantic representations regarding expressed
sentiment.

13

4.1 Data acquisition
Uncounted gigabytes of information pour into healthcare
pages and micro-blogs at a staggering rate. We chose to
apply our regeneration vector strategy on a sample of onlinedrug-related posts from social media under the proposed
medical sittings, which is discussed in Sect. 3.1.1. More
specifically, in this section, we present the results obtained
by applying the proposed methods on both Twitter data and
patients’ self-reported messages on other healthcare forums.
The experiments executed consider the language in which
the messages are written, the number of texts analyzed. We
have created two web crawlers that collect posts involved
in cancer, heart attack, epilepsy, and Parkinson’s disease
contexts.
Twitter data: Twitter is the most popular micro-blogging
that attracted millions of users to share and disseminate the
most up-to-date information; that is why we focused on this
study to train our ensemble models using Twitter data. Every
single tweet in our corpora is considered as a separate document that saves the life of correlate information contained
regarding medical and pharma objects.
Message from Parkinson’s disease (PD): Most of the PD
communities are of public access, where PD’s patients and
their families pour essential information about their daily
problems and treatments. In this paper, we ingest both Parkinson’s related messages from the Michael J. Fox Foundation forum, to prove the efficiency of data on forums that
remained with more details concerning drug and treatment
vs. disease.

4.2 Experimental settings and training corpora
To review, in our implementation, the proposed corpora are
generated in four phases: (1) matching drug-related concepts
based on the pairwise measure discussed above. (2) A translation-based conceptualization approach between patient’s
language used in social media messages and formal medical
language used in the descriptions of medical concepts in
standard ontologies, as described in Table 2. We propose a
based-phrase embedding generation mechanism. (3) Convolutions conveyed to explore and learn the pattern and assign
initial sentiment value. In the end, (4) additional statistical
features have been added to the last feature vector.
Besides, each dataset exhibited typical properties of
social media-based health-related texts. For example, the
Social Media Mining for Health (SMM4H) corpora mainly
provided highly annotated and normalized adverse drug
reaction (ADR) expressions from medication-mentioning
tweets. In our case, it has been used for large-scale evaluation of automatic medication-related posts for the classification and normalization. We varied several parameters,
including training data sizes, vector sizes, context window

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

Page 11 of 16 42

Table 2  Statistics of the medical knowledge used for training corpora
Corpus

Description

A corpus8 for mining drug-related knowledges from Twitter chatter
(Sarker and Gonzalez 2017)

The data set we are releasing consists of 267,215 Twitter posts made
during the four months—November 2014 to February 2015. The
posts mention over 250 drug-related keywords. The language models
encapsulate the semantic and sequential properties of the texts
Contains 891 patients’ drug reviews. 4813 ADRs mentions were
detected, 590 WDs mentions, 1219 SSIs mentions, and 755 DIs
mentions. All identified entities mapped to his corresponding UMLS
Metathesaurus concepts(916) and SNOMED CT concepts (755)
The DrugBank database is a comprehensive, freely accessible, online
database containing information on drugs and drug targets.DrugBank contains 13,466 drug entries including 2,622 approved small
molecule drugs, 1351 approved biologic that combines detailed drug
data with comprehensive drug target information. Because of its
broad scope, comprehensive referencing and unusually detailed data
descriptions, DrugBank is more akin to a drug encyclopedia than a
drug database
Consisted of 10,260 annotated tweets, and normalization of ADR
expressions consisted of 6650 ADR phrases and identifiers. Systems
were evaluated using 9961, 7513, and 2500 instances for the 3 subtasks, respectively
Drug-related corpus from social media, it is considered mainly for
mining Adverse Drug Reaction Mentions using Sequence Labeling
with CRF and word embedding Cluster features. it has known for
extracting mentions of adverse drug reactions (ADRs) from a highly
informal text in social media, and for modeling words’ semantic
similarities

PsyTAR (Zolnoori et al. 2019)

DrugBank database (Wishart et al. 2018)

SMM4H corpus (Sarker et al. 2018)

ADR Corpus(ADRMINE) (Nikfarjam et al. 2015)

Fig. 6  Recall vs. training data percentage regarding context, and context per cluster, respectively

Fig. 7  F1-measure vs. training data percentage regarding context, and
context per cluster, respectively

size, and which sequences occurrences assigned to a positive
class or negative class as Figs. 6 and 7 illustrate.
Even though the training shows better learning of opinionated terms regarding the context in the healthcare sphere,
the learning regarding context per sentiment-polar cluster
proves the effectiveness of assessing or judging sentiment information properly through features generation as
described in Sect. 3.1.4.

4.3 Results

8

http://diego​.asu.edu/Publi​catio​ns/Drugc​hatte​r.html.

In the following section, we conducted many experiments
derived from the application of the proposed hybrid vectorization ensemble models. However, our approach was
unique because our training data was automatically created
and updated to extract minute medical-related features on
fresh communication. It combines both annotated tweets
and real-world online polar tweets in the context of medical information. Then a sentiment predictor model-based

13

42 Page 12 of 16

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

BiLSTM approach is constructed concerning the word usage
under medical setting and distributed sentiment.
The proposed architecture achieved good performance
regarding the medical, pharmaceutical sphere, and potential use cases. Indeed, the extraction of complex medical
concepts automatically encoded with relatively good performance, from informal user-generated content to formal
medical settings. Thus, our approach is particularly scalable,
suitable for modeling efficient sentiment-related vocabulary
from online social media data, as it relies on large volumes
of unlabeled data, thus, diminishing the need for large annotated training data sets for training sentiment classification
model.
We have tested our approach on five different deep learning and machine learning algorithms, and we conducted an
online evaluation. A sample of 2807 drug-related reviews
on the online healthcare forum of Parkinson’s disease was
collected and prepared to enrich the vocabulary. For Twitter, we gathered more than 15,000 tweets that fed into the
network for updating drug-related knowledge from real-life
experiences. We have further conducted many experiments
on various Twitter datasets at different times.
A comparison is also conducted between our proposed
model and other pre-trained embedding vectors. We
have created four models based on different embedding
approaches, which both are creating word vectors. Both
perform similarly well, but Glove trains a little faster. Twitter word2vec, in this case, performs unique representation,
discrete ids that lead to data sparsity. The first two models
are based on pre-trained distributed vectors such as
1. Improved pre-trained Glove Twitter embeddings: we
trained our model by using another improved Glove
Twitter vectors (2B tweets, 27B tokens, 1.2M vocabulary in 200 dimensions vectors) as initial embedding
matrix for our dictionary from online Twitter training
data. Then we copy all the Glove weights of tweets that
show up in our training vocabulary. For every subword
outside this embedding matrix, we approach this step by
mapping the closest tweet vector.
2. Improved pre-trained Twitter word2vec vectors: is
Word2Vec predictive neural language model of 400M
tweets embedding model. We also extend the pre-trained
vectors under the healthcare setting, which apply and
identify vectors for complex medical language; this
task presents several exciting challenges, including the
noisy nature of the data, the informal style of the user
posts, misspellings, and data imbalance. It has been
shown in past research that it frequently underperforms
when exposed to medication-related text because of the
presence of different medical phrases and misspellings,
and frequent use of idiomatic, ambiguous and sarcastic

13

Fig. 8  The sentiment-related value of a set of concepts that seem in
closest context of “medication” opinionated terms

expressions toward specific drugs, treatments, or drug
events.
We evaluate the proposed hybrid vectorization scheme
on two training modes (1) by context, (2) and by context
per sentiment assessment, which are further compared with
the described word embedding representation schemes
above. As proved, Fig. 8 presents the sentiment-related
value of a set of concepts that seems in the closest context
of “medication” opinionated terms, and more specifically
in terms of drug effectiveness. Feature format showed as
< subword, sentiment value >. We initially compared the
sentiment intensity in the three distributed representations.
In particular, the proposed hybrid vectorization proves the
ability to perform varied sentiment intensity regarding multiple contexts about the obtained medical setting.
In Table 3, we illustrate how sentiment scores of some
typical medical-related words are identified regarding varied medical cases. As noticed vector ’cancer’ seem many
times with various sentiment’s score, especially it appeared
in negative polar facts as so as positive facts.
Since we generate drug-related vocabulary schemes with
regard to sentiment distribution, we investigate the use of
this medical setting to empower our sentiment information
learning model. A BiLSTM-based sentiment classification
has involved in classifying conveyed sentiment accurately.
Moreover, we examined the effectiveness of five deep learning algorithms by deriving embedding vectors for each
model.
First, experimentation is conducted on Twitter data, as
shown in Fig. 9. The SVM training remarkably has excellent performance when a Twitter dataset is tiny and less
recall than desired when data grow, which requires (a lot
of) training data. But, regarding the medical context as a
huge knowledgeable domain, it has many limitations. Especially when the classification model needs to adopt drug/
ADRs corpora and efficient sentiment Matching. Our Bidirectional LSTM classifier with both proposed vectorization

Page 13 of 16 42

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42
Table 3  A comparison of
‘medication’ subword-related
sentiment obtained and other
baselines (GLOVE,Word2vec)
in terms of drug effectiveness

Main model(proposed vectorization)
< subword, sentimentvalue >

Model-2 (Glove vectorization)
< subword, sentimentvalue >

Model-1(Word2vec vectorization)
< subword, sentimentvalue >

< drug, 0.7703089 >
< cancer, 0.8507389 >
< asthma, 0.5700389 >
< dealer, 0.892389 >
< treatment, 0.584389 >
< vitalin, 0.703389 >
< cancer, 0.073555 >

< addiction, 0.057389 >
< troubles, 0.007389 >
< king, 0.557389 >
< web, 0.603885 >
< weather, 0.604829 >
< cancer, 0.157389 >
< traffic, 0.173849 >

< antidepressant, 0.544389 >
< medication, 0.645889 >
< cancer, 0.02089 >
< patients, 0.156689 >
< anticonvulsant, 0.725589 >
< safer, 0.837409 >
< trial, 0.603826 >

Fig. 9  The accuracy (%) comparisons of different models for Twitter
data

outperforms existing methods, which significantly explore
medical knowledge regarding expressed Sentiment.
Otherwise, both stacked-LSTM and BiLSTM are markedly and consistently outperform all the other algorithms,
thus the word2vec vectorization-based model has the lowest
accuracy among all models. Conceivably, the fourth model
significantly outperforms the third model and confirms the
critical role of the existence of changeable sentiment towards
the same drug or treatment regarding the patient’s status.
It proved the effectiveness of identifying sentiment-related
information per window under a dynamic medical setting.
Our use case scenarios focus on how a large amount of
unstructured data from varied online healthcare forums fit
with the proposed model, which contains more details on
different situations from patient-generated narratives, doctors, caregiver, and families. They provide very detailed
patients’ narratives. It considered an automatic online
method that generates efficient sentiment-related features
regarding drug-related terms from varied patient surfaces.
So far, our sentiment analysis model leverages differently concerning embedding sentiment, contextual, and the
semantic information. It is supposed to memorize long-term
parametrization of drug-related concepts by the downstream
methodology and be able to define new unknown terms. Our
experiment results show that improved hybrid vectorization

Fig. 10  The accuracy (%) comparisons of different models for forum
Parkinson’s disease data

regarding medical concepts such as ADRs is sufficient for
the medical sentiment analysis task. As illustrated in Fig. 10,
the evaluation models for forum data have slightly differentiated in terms of the algorithm we used for classification. Due
to the text setting and parameters for both forums and Twitter, for example, SVM does well in the forum case, SVM was
examined with both simple featuring and word embedding
featuring. It usually has excellent performance for sentiment
classification, but short dependencies and small datasets.
Furthermore, the stacked-LSTM- and BiLSTM-based
models consistently outperform all the other methods in
the effectiveness of BiLSTM and the possible advantage of
the proposed vectorization scheme assessed through these
comparisons. Thus, sentiment strength model discussed in
Sect. 3.2 for drug-related concepts help to clarify their subjectivity and their role to accommodate the sentiment.
The variations of the evaluation datasets are due to the
particularities of the different sentiment analysis tasks. Analyzing drug-related experiences on Twitter spans multiple
tasks, such as frequent Hashtags categorization, drug-related
polarity detection, and sentiment strength detection under
the medical setting. As demonstrated above, we probe to
perform these tasks either at the tweet level or at the target
(entity) level. We conduct comparisons of sentiment strength
detection using four different sentiment datasets widely used
in the Twitter sentiment analysis literature:

13

42 Page 14 of 16

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

Fig. 11  The accuracy (%) comparisons of different datasets for various algorithms

1. Stanford Twitter Sentiment (SST): The Stanford Twitter Sentiment corpus9, introduced by Go et al. (2009)
consists of two different sets, training, and test. The
training set contains 1.6 million tweets automatically
labeled as positive or negative based on emotions.
2. Sentiment Strength Twitter Dataset (SS-Tweet): This
dataset consists of 4242 tweets manually labeled with
their positive and negative sentiment strengths. A negative strength is a number between − 1 (not negative) and
− 5 (extremely negative). The dataset constructed by
Mike et al. (2012) to evaluate SentiStrenth10 is released
under lexicon-based method.
3. SemEval (2017): This dataset was constructed for the
Twitter sentiment analysis task (Task 4) (Rosenthal et al.
2018) in the Semantic Evaluation of Systems challenge.
The original SemEval dataset consists of 20K tweets
split into training, development, and test sets.
4. The Health Care Reform (HCR):The Health Care Reform
(HCR) dataset was built by crawling tweets containing the
hashtag #hcr (health care reform) (Speriosu et al. 2011).
A subset of this corpus was manually annotated by the
authors with five labels [positive, negative, neutral, irrelevant, unsure(other)] and split into training (839 tweets),
development (838 tweets), and test (839 tweets) sets.
As demonstrated above, these sentiment Twitter lexicons
have been used to re-classify sentiment related to the
proposed medical parametrization. We remain using the
N-gram convolutional drug-related vectors. As depicted in
Table 4, resuming statistics of the SST, SS-Tweet, SemEval and HCR datasets are used in this evaluation. Figure 11
shows the accuracy of the four benchmarking sentiment

9
10

http://help.senti​ment1​40.com/.
http://senti​stren​gth.wlv.ac.uk/.

13

Fig. 12  Experiments with different vectorization methods and sentiment prediction DL-based algorithms

datasets discussed on drug-related distributed vectors
using four deep learning methods and SVM. The SSTTweet with the BiLSTM method has the highest accuracy.
The proposed vocabulary gives clear improvements in
using drug-related knowledge mentions for detecting relevant
sentiment strength, it pushes the state of the art in a single
sentence positive/negative fact prediction from 0.71 up to 0.83
for SS-Tweet dataset evaluation. Among individual Models,
neural-based networks showed high performance for detecting sentiment strength under various conditions. The support
vector machines have the lowest accuracy due to the size of
the dataset used; in contrast, the efficiency has increased for
small, cleaned, and with the human-labeled dataset. After
checking the model’s performance on different benchmark
sentiment datasets, we chose to compare the performance
of the proposed sentiment-related medical annotation of our
model before classifying unseen instances of online data. We
compare the extracted drug-related concepts with tweets that
have already been annotated by IRE Medical Named Entity
Recognition (NER) Twitter team. Our model seeks new items
with various sentiment strength regarding the proposed clusters used in Sect. 3.1.4, and sentiment strength detection has
been made about different medical concepts in sentences as
a target of analysis. As can be seen, Table 5 presents sample
results of positive and negative experiences extracted with
drug-related concepts cited. Finally, the proposed methodology is validated by a series of experiments conducted on five
online Twitter datasets in a different slice of time. Table 6
illustrates a sample of results obtained for some tests, with
splitting the number of positive and negative tweets detected.
To prove, the mobility and reliability of the generated
vectors concerning the healthcare sitting sphere, we conduct another experimentation on different datasets from
Facebook, AskPatient Forums. As shown in Fig. 12, we
compare the classification results with different models
discussed above. Both of these datasets have specific
characteristics in terms of the language used, length, and
particular keywords. It can be observed that the proposed

Page 15 of 16 42

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42
Table 4  Statistics on four
different datasets widely used in
the Twitter sentiment analysis

Dataset

#No. of Tweets

Stanford Twitter Sentiment (SST)
Sentiment Strength Twitter Dataset
(SS-Tweet)
SemEval(2017)
The Health Care Reform (HCR)

#Negatives

#Neutral

#Positives

498
4242

177
1037

139
1953

182
1252

13,975
2516

2186
1381

6440
470

5349
541

Table 5  Tweet sentiment classification results by executing the proposed architecture (asthma and epilepsy disease case study)
Tweet

Medical concept annotation

@pharma Asthma plus anxiety plus food is a bad time
@furlemate Awe I have asthma so I feel your pain
Major weight loss decreases risk of asthma attacks http://t.oo/6X0NX​kH4ij​

Asthma:disease
Asthma:disease
Asthma attacks:disease-type
Precaution: Major weight loss
Asthma:disease
Organ : Adrenal glands
Drug : steroids cures
Steroids affect adrenal glands : ADE
Aardvark : Drug
Nasal : microbiome
Asthma: disease
Throat: microbiome
Epilepsy: disease; Quolie (translated to
QOLIE); NDDIE: treatment tools
Asthma: disease
SUDEP (sudden, unexpected death): symptoms

Fr @MyKembangSepatu Common asthma steroids linked to side effects in
adrenal glands: After stopping steroids c. http://t.co/QmBrV​hEzkm​
DanielRadcliffe is one of the God’s most unattractive creations since the
aardvark
Nasal vs. throat microbiome diversity with differential risk asthma
#AAAAI15
Any epilepsy nurses out there using T.E.C to gather data on QUOLIE 10,
NDDIE or HADS before a patient attends clini. https​://t.co/utnqr​6hWZc​
Ironically, while I am attending #AES2019, the meeting of the American
Epilepsy Society, this story has just broken. I don’t know if this was a
SUDEP, since I don’t know if he had #epilepsy. But it sure sounds like it
might’ve been
Towards Understanding the Phenytoin-like #Antiepileptic Effect of #Cannabidiol and Related Phyto #cannabinoid Metabolites: Insights from
Molecular Modeling

Epilepsy: disease
Cannabinoid: organ
Phenytoin: Drug
Side effects

Sentiment value
0.094839202
0.49834839202
0.7463929202
0.104839202

0.2847839202
− 0.194839202

0.663839202
0.013299202

0.2137384732

Table 6  Experiments on various online Twitter datasets with varied
sizes

5 Conclusion

Twitter data

Positive tweets

Negative tweets

Accuracy

500 Twitter posts
1000 Twitter posts
2200 Twitter posts
3400 Twitter posts
15000 Twitter posts

105 positives
302 positives
300 positives
400 positives
900 positives

40 negative
70 negative
90 negative
275 negative
300 negative

0.68
0.74
0.75
0.72
0.81

In summary, existing methods for both sentiment analysis and language understanding are generic and require
human-labeled data for high sentiment strength detection
performance. In this study, we explore different aspects of
analyzing medication-related text.
We develop an efficient sentiment analysis model that
concerns identifying medication-related targets from
large daily volumes of unlabeled data. This architecture is
dedicated to constructing formal meta-concepts embedding representation by incorporating medical knowledge.
Then a BiLSTM-based sentiment model is built to detect
the relevant sentiment strength regarding varied drugrelated conditions. Differently, the gaps of analysis in this
study are we do not assess the model’s ability to detect
suspected ADRs, and we do not efficiently distinguish

On top of all experiments, model trained with BILSTM achieved the
best accuracy on top N-grams based-medication embeddings that
were trained on

vocabulary under sentiment strength cluster distribution
has the highest accuracy, and the Glove and Word2vec
models have, respectively, lower accuracy than pertained.
Meaning, Glove, and Word2vec vectors are still generic
and do not focus on medical concepts cited in sentences.

13

42 Page 16 of 16

Network Modeling Analysis in Health Informatics and Bioinformatics (2020) 9:42

emotional targets. In the future, we will further modify
the vocabulary to detect unsuspected drug effects such as
adverse drug reactions. Another perspective is to construct
an interpretable sentiment analysis model that can better
be observing and understanding patients’ emotional signals in different conditions and helps provide situational
awareness to the bedside in various conditions.

References
Adil B, Hanane G, EL-Habib N (2017) Sentiment analysis tool
for Pharmaceutical Industry and Healthcare. Transactions on
Machine Learning and Artificial Intelligence, [S.l.]
Araque O, Corcuera-Platas I, Sánchez-Rada JF, Iglesias CA (2017)
Enhancing deep learning sentiment analysis with ensemble techniques in social applications. Expert Systems with Applications
Belousov M, Dixon W, Nenadic G (2017) Using an ensemble of
generalised linear and deep learning models in the SMM4H
2017 medical concept normalisation task. In CEUR Workshop
Proceedings
Cocos A, Fiks AG, Masino AJ (2017) Deep learning for pharmacovigilance: recurrent neural network architectures for labeling
adverse drug reactions in Twitter posts. J Am Med Inform Assoc
24(4):813–821
Frank EB, Allen N, Young J, Kaplan A, Helms JA, Schneider RA
(2007) Skeletogenesis in the swell shark Cephaloscyllium ventriosum. J Anat 210(5):542–554
Garcia-Pelaez J, Rodriguez D, Medina-Molina R, Garcia-Rivas G,
Jerjes-Sánchez C, Trevino V (2019) PubTerm: A web tool for
organizing, annotating and curating genes, diseases, molecules
and other concepts from PubMed records. Database
Go A, Bhayani R, Huang L (2009) Twitter sentiment classification
using distant supervision. CS224N project report, Stanford
Grissette H, Nfaoui EH (2019) A conditional sentiment analysis
model for the embedding patient self-report experiences on
social media, vol 914. Springer, Cham
Grissette H, EL-Habib N (2019) Daily Life Patients Sentiment Analysis Model Based on Well-Encoded Embedding Vocabulary for
Related-Medication Text. In Proceedings of the 2019 IEEE/
ACM International Conference on Advances in Social Networks
Analysis and Mining, ASONAM ’19, pages 921–928, New
York, NY, USA, 2019. Association for Computing Machinery
Han S, Tran T, Rios A, Kavuluru R (2017) Team UKNLP: detecting
ADRs, classifying medication intake messages, and normalizing ADR mentions on twitter. In CEUR Workshop Proceedings
Kai S, Zhixuan Z, Hao G, Jonathan L (2018) A sentiment information Collector–Extractor architecture based neural network for
sentiment analysis. Inf Sci 467:549–558
Kim S, Yeganova L, John WW (2016) Meshable: searching PubMed
abstracts by utilizing MeSH and MeSH-derived topical terms.
Bioinformatics 32(19):3044–3046
Limsopatham N, Collier N (2016) Normalising medical concepts in
social media texts by learning semantic representation. In 54th

13

annual meeting of the Association for Computational Linguistics, ACL 2016–Long Papers
Mike T, Kevan B, Georgios P (2012) Sentiment strength detection
for the social web. J Am Soc Inf Sci Technol 63(1):163–173
Mikolov T, Chen K, Corrado G, Dean J (2013) Efficient estimation
of word representations in vector space. In 1st International
Conference on Learning Representations, ICLR 2013–Workshop Track Proceedings
Nikfarjam A, Sarker A, O’Connor K, Ginn R, Gonzalez G (2015)
Pharmacovigilance from social media: mining adverse drug
reaction mentions using sequence labeling with word embedding cluster features. J Am Med Inf Assoc 22(3):671–681
Pennington J, Socher R, Manning CD (2014) GloVe: global vectors
for word representation. In EMNLP 2014–2014 Conference on
empirical methods in natural language processing, Proceedings
of the conference
Rodrigues RG, das Dores RM, Camilo-Junior CG, Rosa TC, (2014)
SentiHealth-Cancer: a sentiment analysis tool to help detecting mood of patients in online social networks. Int J Med Inf
85(1):80–95
Rosenthal S, Farra N, Nakov P (2018) SemEval-2017 Task 4: sentiment
analysis in Twitter
Sarker A, Gonzalez G (2017) A corpus for mining drug-related knowledge from Twitter chatter: language models and their utilities.
Data Brief 10:122–131
Sarker A, Belousov M, Friedrichs J, Hakala K, Kiritchenko S, Mehryary F, Han S, Tran T, Rios A, Kavuluru R, De Bruijn B, Ginter F,
Mahata D, Mohammad SM, Nenadic G, Gonzalez-Hernandez G
(2018) Data and systems for medication-related text classification
and concept normalization from Twitter: insights from the Social
Media Mining for Health (SMM4H)-2017 shared task. J Am Med
Inf Assoc 25(10):1274–1283
Speriosu M, Sudan N, Upadhyay S, Baldridge J (2011) Twitter polarity classification with label propagation over lexical links and the
follower graph. In: Proceedings of the conference on empirical
methods in natural language processing. ISBN: 9781937284138
Tu-Bao H, Ly L, Dang TT, Siriwon T (2016) Data-driven approach
to detect and predict adverse drug reactions. Curr Pharm Design
22(23):3498–3526
Wei CH, Kao HY, Lu Z (2013) PubTator: a web-based text mining
tool for assisting biocuration. Nucleic Acids Res 41(W1):518–522
Wishart DS, Feunang YD, Guo AC, Lo EJ, Marcu A, Grant JR, Sajed
T, Johnson D, Li C, Sayeeda Z, Assempour N, Iynkkaran I, Liu
Y, MacIejewski A, Gale N, Wilson A, Chin L, Cummings R, Le
D, Pon A, Knox C, Wilson M (2018) DrugBank 5.0: a major
update to the DrugBank database for 2018. Nucleic Acids Res
46(D1):1074–1082
Zolnoori M, Fung KW, Patrick TB, Fontelo P, Kharrazi H, Faiola A,
Shah ND, Shirley WYS, Eldredge CE, Luo J, Conway M, Zhu
J, Park SK, Xu K, Moayyed H (2019) The PsyTAR dataset:
from patients generated narratives to a corpus of adverse drug
events and effectiveness of psychiatric medications. Data Brief
24:103838
Publisher’s Note Springer Nature remains neutral with regard to
jurisdictional claims in published maps and institutional affiliations.

