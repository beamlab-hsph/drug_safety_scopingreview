Received: 18 October 2018

Revised: 12 June 2019

Accepted: 14 June 2019

DOI: 10.1002/pds.4857

ORIGINAL REPORT

Comparison of text processing methods in social media–based
signal detection
Natalie Gavrielov‐Yusim1
Chunshen Pan3

|

|

Julie Pouget4

Stephanie Tcherny‐Lessenot2
1

Marie‐Laure Kürzinger2

R&D, Data2Life, Tel Aviv, Israel

2

Epidemiology and Benefit Risk Evaluation,
Sanofi, Chilly‐Mazarin, France

3

Epidemiology and Benefit Risk Evaluation,
Sanofi, Bridgewater, NJ, USA

4

Information Technology and Solutions, R&D
CMO ‐ SC Real World Evidence, Sanofi, Lyon,
France

|

|

Limor BH Epstein1

Stephen Lin5

|

Chihiro Nishikawa2

|
|

Yan Golant1

Bernard Hamelin6

|

|

|

Juhaeri Juhaeri3

Abstract
Purpose:

Adverse event (AE) identification in social media (SM) can be performed

using various types of natural language processing (NLP) and machine learning (ML).
These methods can be categorized by complexity and precision level. Co‐occurrence‐based ML methods are rather basic, as they identify simultaneous appearance
of drugs and clinical events in a single post. In contrast, statistical learning methods

5

Global Pharmacovigilance, Sanofi,
Bridgewater, NJ, USA

involve more complex NLP and identify drugs, events, and associations between

6

Medical Evidence Generation, Sanofi, Paris,
France

them. We aimed to compare the ability of co‐occurrence and NLP to identify AEs

Correspondence
N. Gavrielov‐Yusim, R&D, Data2Life, 14 Beit
Hillel St, Tel Aviv, Israel.
Emails: nataliegv@gmail.com;
natalie@data2life.com

examined the performance of lift in SM‐based signal detection (SD).

and signals of disproportionate reporting (SDR) in patient‐generated SM. We also

Methods:

Our examination was performed in a corpus of SM posts crawled from

open online patient forums and communities, using the spontaneously reported
VigiBase data as reference data set.
Results:

We found that co‐occurrence and NLP produce AEs, which are 57% and

93% consistent with VigiBase AEs, respectively. Among the SDRs identified both in
SM and in VigiBase, up to 55.3% were identified earlier in co‐occurrence, and up to
32.1% were identified earlier in NLP‐processed SM. Using lift in SM SD provided performance similar to frequentist methods, both in co‐occurrence and in NLP‐processed AEs.
Conclusion:

Our results indicate that using SM as a data source complementary to

traditional pharmacovigilance sources should be considered further. Various levels of
SM processing may be considered, depending on the preferred policies and tolerance
for false‐positive to false‐negative balance in routine pharmacovigilance processes.
K E Y W OR D S

adverse event (AE), lift, machine learning (ML), natural language processing (NLP),
pharmacoepidemiology, signal of disproportionate reporting (SDR), social media (SM)

Pharmacoepidemiol Drug Saf. 2019;28:1309–1317.

wileyonlinelibrary.com/journal/pds

© 2019 John Wiley & Sons, Ltd.

1309

1310

1

|

GAVRIELOV‐YUSIM

ET AL.

I N T RO D U CT I O N
KEY POINTS

A growing body of evidence has indicated that web‐based data,

• This work presents a comparison between two levels of

including query log and social media (SM), can be used as one of the
potential sources for adverse event (AE) and signals of disproportion-

social

ate reporting (SDR) detection.1 New methods have been proposed for

identification of adverse events (AEs) and potential

signal detection (SD) using data from query log2 and from online

signals of disproportionate reporting (SDR).

media

(SM)

content

processing

used

in

patient groups.3 AE identification in SM is complicated by the fact that

• While both levels showed considerable concordance with

it requires analyzing information in a free‐text unstructured format. To

a spontaneous reporting system (VigiBase), there is a

resolve this difficulty, AE identification in SM is performed using

trade‐off between the amount of manual screening

various types of text processing, such as natural language processing

required by the lower level of SM processing (ie, drug‐

(NLP) and machine learning (ML). These language‐processing methods

event co‐occurrence) and the potential missing of AEs

can be roughly categorized into three groups (a) co‐occurrence

and SDRs by the higher level of SM processing (ie, NLP).

approach, (b) rule‐based approach, and (c) statistical learning methods.

• Should SM be included in routine pharmacovigilance

These three groups are characterized by several levels of complexity

processes, the optimal balance for this trade‐off will

and precision.4 Co‐occurrence is typically a simpler method, as it only

likely have to be demarcated by the regulatory

identifies the appearance of a drug name and a clinical event in a

pharmacovigilance guidelines.

single sentence. This step is performed by named entity recognition

• This

(NER) algorithms that recognize the drug and clinical events appearing

work

presents

lift

performance

in

SM

in patients' posts. The second group, rule‐based approach, identifies

pharmacovigilance, compared with its performance in

patterns between the detected drugs and clinical events, based on a

traditional pharmacovigilance data (VigiBase).

prespecified rule. The third group, statistical learning methods,
includes feature‐based methods, which usually use lexical, syntactic,
and semantic features. These methods perform language pattern rec-

2

METHODS

|

ognition and uncover associations made by the author of the post
between a drug and a clinical event. Therefore, these methods are able
to classify potential drug‐event associations into such categories as
indication, interaction, and AE. Accordingly, feature‐based statistical
learning methods are considered to be more complex and show higher
performance in identifying AEs.4,5 The value of feature‐based
methods in SM AE identification has been previously demonstrated,4,5
showing that these methods perform well in distinguishing between
AEs and non‐AE drug‐event pairs in SM. However, little is known
today on the effect that the additional SM processing by feature‐
based methods has on identifying SM SDRs, as opposed to identifying
SM SDRs using the co‐occurrence method.

2.1

Study design

|

We performed a retrospective analysis of data extracted from SM and
VigiBase. Initially, SM and VigiBase were screened in order to identify
medicinal products with an appreciable amount of information available in both data sets, to allow necessary robustness for further data
analysis. The initial array of screened active ingredients included a
dozen of antineoplastic agents, immunosuppressants, immunomodulators, monoclonal antibodies, antithrombotic agents, antihistamines,
and other drug classes. Following the initial screening, we focused
on insulin glargine (long‐acting basal insulin analogue) and zolpidem

Our study focused on two main objectives. First, we aimed to com-

(sedative‐hypnotic agent). Both drugs have been available for over

pare the performance of co‐occurrence and feature‐based statistical

15 years each and have a significant user population, which provided

learning in AE and SDR identification in patient‐generated SM

a sizeable data set of AEs and SDRs. Study period was January 1,

content, while using the traditional spontaneous reporting system of

2005 to December 31, 2015. During the study period, the population

the WHO (ie, VigiBase) as a reference data set. Performance was com-

of AEs and SDRs detected in SM was compared with the population of

posed of two factors: (a) SM SDRs concordance with VigiBase SDRs

AEs and SDRs detected in VigiBase.

and (b) early SDR identification in SM compared with VigiBase. Essentially, we examined whether additional data processing, ie, drug‐event
association detection by means of feature‐based statistical learning
methods, had a beneficial effect when compared with a simpler co‐

2.2
2.2.1

Data sets

|
|

SM data set

occurrence method, which stops at identifying the appearance of
drugs and events in the same sentence.

The SM posts for this study were crawled from more than 1000 open

Second, we examined the SD performance of lift in SM, which to

online English language patient forums, blogs, and patient‐support

the best of our knowledge has been described to a limited extent in

groups. The process of these sites harvesting is briefly described below.

this setting.6-8 The SM performance of lift was examined in data sets

A list of several thousand user‐generated platforms was created by

produced both by co‐occurrence and feature‐based statistical

online site classifier searching for content related to health, well‐being,

learning.

medications, and specific medical conditions. This list was curated to

GAVRIELOV‐YUSIM

1311

ET AL.

exclude sites dedicated to topics unrelated to health, such as dating,

1. Co‐occurrence method was based on the machine learning (ML)

file, or music sharing. This segment of online media was chosen due

algorithms, including NER, which identified the occurrence of drugs

to its enrichment with medical data, compared with nonmedically ded-

and AEs in a single post. Initially, NER was used to identify the drug

icated SM, such as Facebook, Twitter, music sites, and so on.

and event entities. For drug name identification that accounted for

The final list of sites used in the study included more than 1000

post authors' misspellings and typos, NER algorithms were trained

forums, blogs, and patient‐support groups, which were crawled with

on a training corpus encompassing approximately 4000 posts. Fol-

an open source Apache Nutch library.9 All posts crawled in this process

lowing drug name identification, drugs were mapped to Unified

were assigned an internal system number and were stripped of personal

Medical Language System (UMLS) ontology.11 For clinical event

identifiers such as name, nickname, location, and so on. Mirror pages

identification, including layman medical terminology, NER algo-

and duplicate posts were removed based on exact text matching. All

rithms were trained on the proprietary Data2Life consumer vocabu-

drug‐event pairs identified within the study period were included in

lary, which was prepared by manual curation and mapping of

data analysis. In Figure 1, which describes SM data processing, this step

approximately 4000 posts corpus. This feature allowed to map

is designated as Phase 1, dedicated to SM post acquisition.

patients' phrases, which included colloquial expressions and slang,
into standard MedDRA (v19.1) preferred terms (PTs).
2. Feature‐based statistical learning method was based on the output

2.2.2

|

Reference data set

of NER algorithms followed by NLP, which identified personalized
AEs by detecting posts where sentence structure demonstrated a

VigiBase, a global database of Individual Case Safety Reports collected

personal patient experience and a potential association between

and maintained by the WHO, is the largest database of its kind in the

a drug and AE. The NLP algorithms were provided with lexical

world operating since 1968 and containing greater than 16 million AE

and syntactic features, which combined sentence processing using

reports.10 All suspected AEs collected from VigiBase during the study

information on words, position, and parts of speech.4 Thus, we

period were included in data analysis.

were able to identify patient‐reported suspected causality and personal experience, which were described in the posts.

2.3

|

SM processing algorithms

Following SM extraction, posts were subjected to AE identification

2.4
2.4.1

Statistical analysis

|
|

SD methods and thresholds

using the methods described below. In Figure 1, which describes SM
data processing, this step is designated as Phase 2, dedicated to SM

The SD was performed using the standard frequentist and Bayesian

AE identification.

methods, while employing different thresholds. Frequentist methods

FIGURE 1 Social media (SM) data processing from post acquisition to signal of disproportionate reporting (SDR) detection [Colour figure can be
viewed at wileyonlinelibrary.com]

1312

GAVRIELOV‐YUSIM

ET AL.

included proportional reporting ratio (PRR) and reporting odds ratio

Specifically, SDRs detected by these SD methods in co‐occurrence

(ROR). Bayesian methods included empirical Bayesian geometric mean

data were compared with SDRs detected by the same SD methods

(EBGM) and information component (IC). In Figure 1, which describes

in VigiBase. Similarly, SDRs detected in NLP‐processed data were

SM data processing, this step is designated as Phase 3, dedicated to

compared with SDRs detected in VigiBase. The comparison described

SDR detection.

above was performed by means of calculating sensitivity, specificity,

We used the following thresholds that are commonly implemented

positive predictive value (PPV), negative predictive value (NPV), accu-

in routine pharmacovigilance and were examined in our earlier

racy, and receiver operating characteristic (ROC) curve. ROC curve

2

publications:

and area under the curve (AUC) were implemented to measure the
overall ability of the SD method to discriminate between positive

EB05 ≥ 2 (EB05: lower bound of the EBGM 90% CI)

and negative SDRs. ROC curve represented the true positive rate

EBGM ≥ 2

(sensitivity) plotted as a function of the false‐positive rate (100 speci-

EBGM ≥ 4
IC025 > 0 (IC025: lower bound of the IC 95% CI)

ficities) for different thresholds of the plotted metric.
To calculate the proportion of SDRs detected in SM earlier than in
VigiBase, we initially identified the population of SDRs that were iden-

PRR ≥ 2, n ≥ 3, and χ2 ≥ 4

tified both in SM and in VigiBase (ie, SM‐VigiBase SDR intersection).

PRR025 ≥ 1 and n ≥ 3 (PRR025: lower bound of the PRR 95% CI)

For these SDRs, we found the first date of identification in SM and

ROR025 ≥ 1 and n ≥ 3 (ROR025: lower bound of the ROR 95% CI)

VigiBase. SDRs, for which SM date of detection preceded the VigiBase

Lift was calculated using the following formula:

date of detection by at least 1 month, were defined as detected early,
and their proportion was calculated out of the SM‐VigiBase SDR
intersection.

Lift (Drug ⇒ AE) = P (Drug ∪ AE)/(P (Drug) × P (AE)), where
P (Drug) represents the probability of Drug occurrence

2.4.3

|

Statistical tests

P (AE) represents the probability of AE occurrence

Statistical differences in SD methods' mean performance between the

P (Drug ∪ AE) represents the probability of Drug and AE occur-

co‐occurrence data set and feature‐based statistical learning data set

rence, if Drug and AE are absolutely independent

were examined using a two‐tailed paired t test, to account for the fact
that each SD method appeared in both data sets (which created a

Accordingly, the formula of lift,6 in its use as SD method, reflects

paired nature of observations).

the actual probability of drug and AE occurring in the same post,
divided by a theoretical probability, assuming that the recording in
posts of drug and AE are absolutely independent. It is noteworthy that

3

RESULTS

|

lift calculation is essentially identical to IC, with the only difference
that lift does not include Bayesian shrinkage.

3.1

|

Drug‐event pairs and SDR identification

Given the very limited previous usage of lift in pharmacovigilance,
we felt it prudent to empirically determine an appropriate threshold

The process of SM post acquisition, AE identification, and SDR detec-

for this measure. As a training data set in this process, we used the

tion is graphically presented in Figure 1. Both in SM and in VigiBase,

FDA Adverse Event Reporting System (FAERS) data during 2004 to

the average number of additional drugs (ie, nonstudy drugs)

2016. A threshold was calculated using the R “OptimalCutpoints”

mentioned in a post or report (respectively) was 1.6. The average

12

The training corpus comprised a 20 000‐record sample ran-

number of cases per PT in VigiBase was 24, and the average number

domly selected from the FAERS data set. PRR, IC, and EBGM were

of SM posts per PT was 134. Overall, 5686 unique drug‐event pairs

used to detect signals in the training corpus, using the following

were identified in VigiBase, representing 5686 AEs. The number of

thresholds: (a) PRR025 ≥ 1 with n ≥ 3, (b) EB05 ≥ 2, (c) EBGM ≥ 2,

unique drug‐event pairs identified in SM (Table 1) was 2500 when

(d) EBGM ≥ 4, and (e) IC025 > 0. The resultant lift thresholds calcu-

using the co‐occurrence method and 435 when using the feature‐

lated based on these cut points were (a) 1.8, (b) 2.8, (c) 2.0, (d) 4.0,

based statistical learning method (hitherto for convenience referred

and (e) 1.8, respectively. The final threshold that was implemented

to as “NLP‐processed data”).

package.

for lift throughout this work was 1.8. An additional condition added

A large proportion of SM drug‐event pairs was also identified in

to lift threshold was n ≥ 3, similarly to other frequentist methods used

VigiBase. Specifically, 57% (1433/2500) of the co‐occurrence drug‐

in this work (ie, PRR and ROR).

event pairs and 93% (403/435) of the NLP‐processed drug‐event pairs
were also identified among VigiBase AEs. The number of SDRs raised

2.4.2

|

SD methods performance

in SM while using all SD methods and thresholds varied depending on
the method of SM processing. For co‐occurrence, the number of SDRs

Performance of all SD methods (PRR, ROR, lift, IC, and EBGM) was

ranged in 274 to 677, and for NLP‐processed data, SDR number

measured separately for co‐occurrence and NLP‐processed SM.

ranged in 42 to 97. In both data types, the highest number of SDRs

GAVRIELOV‐YUSIM

1313

ET AL.

TABLE 1 Number of all SDRs and a proportion of SDRs identified
earlier in SM than in VigiBase
Co‐occurrence Data
Total drug‐event pairs
SD methods

NLP‐processed Data

2500
Unique
SDRsa

Early
detection,
%b

435
Unique
SDRsa

Early
detection,
%b

listed in drug label), compared with co‐occurrence. After the quality
of life‐related AEs, the second most frequently detected clinical type
in co‐occurrence were infection‐related events and in NLP—neurological events.

3.2

|

Earlier SDR detection in SM

EB05

300

52.0

43

32.1

To examine the SM ability to raise SDRs earlier than VigiBase, we cal-

EBGM2

516

41.8

86

16.0

culated the proportion of SDRs detected in SM at least 1 month prior

EBGM4

274

48.9

42

20.0

to VigiBase detection. Our analysis showed that using the co‐

PRR

570

44.8

88

16.9

occurrence data, depending on SD method, up to 55.3% of the com-

PRR025

662

46.9

94

22.0

ROR025

662

55.3

94

30.0

IC025

569

39.5

79

24.5

Lift

677

42.5

97

14.8

Abbreviations: EBGM, empirical Bayesian geometric mean; IC, information
component; NLP, natural language processing; PRR, proportional reporting
ratio; ROR, reporting odds ratio; SD, signal detection; SDR, signal of
disproportionate reporting.

mon SDRs were identified earlier in SM than in VigiBase (Table 1).
When using the NLP‐processed data, depending on SD method, up
to 32.1% of the SDRs were identified earlier in SM than in VigiBase
(Table 1). The mean proportion of SDRs detected in SM at least 1
month earlier than in VigiBase was 46.5 for co‐occurrence data and
22.0 for NLP‐processed data (Table 3).

3.3

|

SD performance analysis

a

Number of different SDRs identified in SM.

b

The proportion of early detection SM SDRs was calculated out of SDRs
found both in SM and VigiBase

The individual performance of statistical methods and thresholds is
presented in Figure 2. In co‐occurrence data, the highest sensitivity
was found with PRR025 and ROR025 (86.2% for both), and the

was raised by lift and the lowest number was raised by EBGM

highest specificity was found with EBGM4 (75.0%). The highest PPV

algorithms.

was found with PRR025 and ROR025 (36.7% for both), and the

An analysis of the type of potential AEs identified by co‐

highest NPV was found with EBGM4 (92.2%). The accuracy (73.4%)

occurrence and NLP methods is provided in Table 2. The purpose of

and the AUC measure were highest with EBGM4 (AUC plot not

this analysis was to identify the clinical as well as reporting‐type pat-

shown).

tern in these two SM data sources. We found that most frequently

In NLP‐processed data, the highest sensitivity was found with

identified events, ie, those ranking highest among all drug‐events in

EBGM2 (75.4%), and the highest specificity was found with EB05

both the co‐occurrence and NLP data, were related to quality of life.

(84.0%). The highest PPV was found with EB05 (68.3%), and the

In addition, we found that NLP was less prone to flagging drug indica-

highest NPV was found with EBGM4 (80.4%). The accuracy (72.7%),

tions as potential AEs but more prone to raising known AEs (ie, AEs

and the AUC measure were highest with EB05 (see ROC plot in
Figure 3).

TABLE 2 Clinical analysis of events identified in co‐occurrence and
NLP‐processed data in SM
Co‐occurrence Data
Total drug‐event pairs
Top 4 event types
rankingc

2500

1 Quality of life‐related
eventsa (20%)
2 Therapeutic indication
(15%)
3 Infection‐related
events (10%)
4 Events listed in
product label (10%)

When comparing mean SD performance between co‐occurrence
and NLP‐processed data, we observed the following patterns (see

NLP‐processed Data
435
Quality of life‐related
events (30%)b
Events listed in
product label (30%)
Neurological disorders
(3%)
Therapeutic indication
(2%)

TABLE 3 Comparison of mean estimated performance between
signal detection methods in co‐occurrence and NLP‐processed data

Abbreviations: NLP, natural language processing; SM, social media.
a

Quality of life events included headache, dizziness, fatigue, stress, hunger,
gastrointestinal disorders and irritability

b

Percent was calculated out of all drug‐event pairs identified in each data
source
c

Ranking categories are not mutually exclusive, thus some events may
belong to more than 1 category.

Performance
Measure

Co‐occurrence
Data
Mean, % (±SD)

NLP‐processed
Data Mean, %
(±SD)

Sensitivity

76.9 (±9)

67.0 (±9)

.001

Specificity

39.7 (±22)

52.0 (±20)

.002

PPV

34.3 (±2)

59.4 (±6)

<.001

NPV

79.8 (±7)

60.6 (±13)

<.001

Accuracy

52.2 (±12)

61.5 (±7)

.002

Early detection

46.5 (±5)

22.0 (±6)

.002

P
valuea

Abbreviations: NLP, natural language processing; NPV, negative predictive
value; PPV, positive predictive value.
a

Calculated using two‐tailed paired t test.

1314

GAVRIELOV‐YUSIM

ET AL.

FIGURE 2 Performance metrics of individual signal detection methods and thresholds in co‐occurrence data and NLP‐processed data. A ‐ co‐
occurrence data; B ‐ NLP‐processed data.
†
Performance was measured using VigiBase as a reference data source

FIGURE 3 ROC curves for individual signal detection methods in NLP‐processed data [Colour figure can be viewed at wileyonlinelibrary.com]
A ‐ EB05, AUC = 0.728;B ‐ EBGM2, AUC = 0.636;C ‐ PRR025, AUC = 0.584;D ‐ IC025, AUC = 0.613;E ‐ EBGM4, AUC = 0.727; F ‐ PRR, AUC =
0.588;G ‐ lift, AUC = 0.614. The curve for ROR025 was very similar to PRR025 and is not presented here
Table 3). Co‐occurrence data provided higher mean sensitivity than

among the examined SD methods in the co‐occurrence data. In NLP‐

NLP‐processed data, with 76.9% and 67.0%, respectively (.001).

processed data, lift demonstrated a sensitivity of 72.5%, specificity

Similarly,

co‐occurrence

of 31.7%, PPV of 53.8%, NPV of 51.3% and accuracy of 53.0%. Lift's

than in NLP‐processed data, with 79.8% and 60.6%, respectively

mean

NPV

value

was

higher

in

measures of specificity (31.7%) and accuracy (53.0%) were the lowest

(P < .001). On the other hand, NLP provided a higher mean

among all examined SD methods in NLP‐processed data.

precision, with mean PPV of 59.4% compared with 34.3% in co‐
occurrence data (P < .001), and higher mean specificity, with

4

|

DISCUSSION

52.0% in NLP processed and 39.7% in co‐occurrence data (.002).
Overall accuracy was higher in NLP‐processed data, with 61.5%,

The most important strength of SM‐based pharmacovigilance is that it

compared with 52.2% in co‐occurrence (.002).

embodies a proactive and patient‐centric approach in AE collection.
Rather than operating only with spontaneously reported AEs, which

3.4

|

Lift performance in SM SD

are known to be strongly underreported,13,14 this approach endorses
accessing large amounts of patient‐generated information in publically

When compared with frequentist and Bayesian methods, lift perfor-

accessible online sites. Accordingly, the main benefit of using SM in

mance was found within the range of these methods. In general, lift

pharmacovigilance is that this process should allow identifying SDRs,

performed similarly to PRR and ROR (Figure 2), demonstrating a sen-

which, because of underreporting, are not or not yet identifiable in

sitivity of 82.7%, specificity of 23.6%, PPV of 34.1%, NPV of 74.0%,

spontaneous reports.

and accuracy of 42.7% in the co‐occurrence data. Lift's measure of

Our study brings forward three principal findings. First, we demon-

accuracy (42.7%) was the lowest of all accuracy measures found

strated a good performance of SDR detection in posts collected from

GAVRIELOV‐YUSIM

1315

ET AL.

English language medical sites, when compared with SDR detection in

When comparing the clinical nature of events identified in SM, we

spontaneous reporting sources (ie, VigiBase). Second, we have com-

saw that a large proportion of these events (ie, greater than 20%) fall

pared the performance of different levels of SM‐processing methods,

under the definition of quality of life‐related events, both in co‐

namely, co‐occurrence and NLP. We demonstrated that each of these

occurrence and in NLP data. A deeper examination of SDRs in SM

methods has unique strengths and limitations, and both of them are

showed that they are rarely clinically severe and are frequently men-

useful instruments of potential SM AEs identification. Notably, both

tioned in the drug label. In addition, these PTs often fall within the

of these methods allow an early detection of SDRs in SM, compared

realm of clinical events that are important to patients even if consid-

with VigiBase. Lastly, we have suggested a setting in which lift may

ered clinically mild (eg, cyclothymic disorder). We also observed that

be used in SM pharmacovigilance, while accounting for its strengths

NLP is able to effectively remove most of drug indications, which

and limitations.

are misclassified by the co‐occurrence method as potential AEs.

As mentioned above, in this work, we used two levels of SM pro-

To summarize, these observations are consistent with the idea that

cessing (see Figure 1). The lower level processing, ie, co‐occurrence

SM‐based AEs behave as a classic patient‐reported data source, with

method, detected drug‐event pairs in SM posts. The higher level, ie,

its characteristic patient‐centered nature. This further strengthens

NLP method, which was applied to the output of co‐occurrence

the idea that opening the pharmacovigilance to SM data will put more

method, identified the patient‐made suspected AE associations

patient‐centric accents in the routine drug safety.

between drugs and events mentioned in posts. In essence, we exam-

When examining SD methods, we observed that consistently with

ined whether additional SM processing with NLP, beyond identifying

previous publications,15 as a general trend, frequentist methods

simultaneous appearance of drugs and events in a post, increases

showed higher sensitivity and Bayesian methods showed higher spec-

the precision of SDR identification. We observed that number of

ificity. Interestingly, in NLP‐processed SM, Bayesian methods showed

potential AEs identified by co‐occurrence (n = 2500) was much higher

both high sensitivity and specificity. It is noteworthy that the

than number of AEs identified by NLP (n = 435), suggesting that

differences and similarities observed in our study among SD methods'

approximately 83% (2065/2500) of the drug‐event pairs identified in

performance in co‐occurrence and NLP‐processed SM will require fur-

posts were screened out by further NLP. This means that in 83% of

ther investigation of the mechanisms driving these behaviors.

posts mentioning drugs and events, the language pattern was not

Lift's performance was similar to frequentist methods, both in co‐

identified by NLP algorithms as a description of “personal patient's

occurrence and in NLP data. We believe that this observation is

AE experience as a result of drug intake.” This has significant implica-

explained primarily by the fact that lift is a frequentist method and

tions in defining the potential quantity and quality of SM data, as a

its threshold in this work was produced using a training corpus

function of SM processing, if SM is to be implemented in routine

implementing the threshold of PRR025. It should be noticed that

pharmacovigilance in the future.

although conceptually and mathematically lift is very similar to the

When comparing SM AEs with spontaneous reporting system AEs,

Bayesian measure of IC, it lacks the shrinkage component and thus

it was demonstrated that a large fraction of SM AEs was also found in

behaves as a frequentist method, similarly to PRR and ROR. It should

VigiBase. The level of SM and VigiBase concordance implies that (a)

also be noted that in most cases a correlation between frequentist

patient forums raise AEs, which are consistent with spontaneously

methods often stems from the fact that, unlike Bayesian methods,

reported AEs, and (b) adding SM to routine pharmacovigilance will

they detect signals with low observation counts (eg, N < 3).16

likely add a manageable amount of complementary information.

However, since in our work all frequentist methods were provided

Moreover, both SM processing methods were able to identify SDRs

with a threshold of N ≥ 3, this characteristic likely did not cause the

prior to VigiBase, with up to 55.3% of early SDR detection in co‐

similarity between lift and other frequentist measures.

occurrence and up to 32.1% of early SDR detection in NLP. Our

It is noteworthy that lift has demonstrated the least discriminatory

results demonstrated that NLP‐processed SM is more concordant

SD pattern, which resulted in its overall low accuracy. However, lift

with spontaneous reports, both in AE content and in SDR detection

has raised the highest number of SDRs, both in co‐occurrence and

time, than the co‐occurrence data. This means that if co‐occurrence

NLP‐processed data, with 677 and 47 SDRs, respectively. This sug-

data are used in routine pharmacovigilance, it will show a higher rate

gests that an SD process implementing lift will require more manual

of early detection but will involve handling larger amounts of addi-

SDR curation by clinicians involved in the process. Notably, this addi-

tional AEs and SDRs by pharmacovigilance professionals. On the

tional curation is not necessarily a detrimental feature, as at this point

other hand, the additional processing of SM with NLP may screen

of NLP development human curation may still be a preferable routine

out posts, where the language pattern is erroneously misclassified

practice compared with completely automated SDR screening.

as nonpersonalized events or non‐AE association. Accordingly, a

The examination of SM utility in identifying AEs and SDRs has

proper balance should be found between the resources invested in

been previously performed by multiple groups, using various

SM processing and the added value of additional and earlier safety

approaches. Some authors have concluded that SM should be further

information introduced into routine pharmacovigilance. Given that

considered as a potential SD tool,17,18 while others concluded that SM

drug safety, as a field, takes a risk‐averse approach and has low toler-

shows a poor performance in AE and SDR identification.19,20 Although

ance for false negative results, co‐occurrence may still be found as a

we count this work among the former group, we do not disagree with

useful practice of SM processing.

the core conclusions of the latter. Namely, we agree that SM cannot

1316

GAVRIELOV‐YUSIM

ET AL.

be used as a stand‐alone data source and should not replace other

and allow an earlier SDR detection, compared with systems of sponta-

pharmacovigilance activities. However, we strongly believe in a multi-

neous AE reporting. Various levels of SM processing may be considered,

source approach, where each stakeholder (physician and patient) is

depending on the preferred policies and tolerance for false‐positive to

properly represented in the process of AE and SDR identification. In

false‐negative balance in routine pharmacovigilance processes. Further

the union of SM and spontaneous reporting, the collected AEs include

investigation, expanding beyond our scope of drugs and internet forums

both clinically serious and important events, which are often missing in

examined here, is warranted.

SM, and quality of life events, which are often underrepresented in
spontaneous reporting systems. We also support the idea that the

ET HIC S ST AT EME NT

methods of SM implementation in pharmacovigilance, from data col-

The authors state that no ethical approval was needed.

lection to processing and analysis, are currently underdeveloped. Our
work was conceptualized with a goal to unpack the issue of level of
NLP post processing, so to mark one methodological milestone in further SM method development.

4.1

The authors thank Alexandra Dumitriu of Sanofi for reviewing the
manuscript and providing valuable comments.

Limitations

|

ACKNOWLEDGEMENT

CONFLIC T OF INT E RE ST
This study was not supported by dedicated funding. N. Gavrielov‐

This study has several limitations. First, these results are directly applicable to drugs that were examined within this investigation and to
English language medical forums. The size of SM data set was small
(relatively to the reference data set), and its power should be
considered accordingly. Generalization of these results to all medicinal

Yusim, L. Epstein BH, and Y. Golant are employees of Data 2Life and
conducted the work as part of their employment. M.L. Kürzinger, C.
Nishikawa, C. Pan, J. Pouget, S. Tcherny‐Lessenot, S. Lin, B. Hamelin,
and J. Juhaeri are employees of Sanofi and conducted the work as part
of their employment.

products and worldwide patient‐generated content should be done
with caution. It is however noteworthy that there is no compelling

ORCID

evidence to believe that non‐English medical forums would be radically different from English language medical forums. Second, NLP

Natalie Gavrielov‐Yusim

https://orcid.org/0000-0003-2273-231X

algorithms have certain levels of drug, diagnosis and drug‐diagnosis
identification precision, which may impact the final outputs of SM
data processing. Third, patient‐generated data rely on patient's
perspective and reporting rather than on medically confirmed information. Patient‐generated online data are in general sensitive to increase
in media coverage, which causes increased frequency of posting on
certain topics. However, in this aspect, patient‐generated SM posts
are not different from patient‐reported AEs in spontaneous reporting
systems, such as FAERS or VigiBase, where they are also subject to
reporting biases, and are not necessarily medically confirmed but
nonetheless viewed as valid evidence. Finally, VigiBase, although used
here as a reference data set to examine SD performance in SM, is not
a true gold standard. Like all spontaneous reporting systems, VigiBase
suffers from underreporting, skewed reporting, and lacks a
denominator.12,13 Nonetheless, spontaneous reporting systems are
currently

accepted

as

the

standard

of

practice

in

routine

pharmacovigilance and VigiBase is one of the largest spontaneous
reporting systems, which rendered it appropriate to be used as reference data in our study. Although the choice of reference data remains
challenging (discussed in the study of Hauben et al21), further studies
using additional data sets as gold standard should be considered.

5

|

C O N CL U S I O N S

Our results indicate that using online patients' medical forums as a data
source complementary to traditional pharmacovigilance sources should
be considered further, as they provide additional patient‐reported AEs

RE FE RE NC ES
1. Golder S, Norman G, Loke YK. Systematic review on the prevalence,
frequency and comparative value of adverse events data in social
media. Br J Clin Pharmacol. 2015;80(4):878‐888.
2. Colilla S, Tov EY, Zhang L, et al. Validation of new signal detection
methods for web query log data compared to signal detection algorithms used with FAERS. Drug Saf. 2017;40(5):399‐408.
3. Kürzinger ML, Schuck S, Texier N, et al. Web‐based signal detection
using medical forums data in France. J Med Internet Res. 2018;20(11):
e10466. https://doi.org/10.2196/10466
4. Liu J, Zhao S, Zhang X. An ensemble method for extracting adverse
drug events from social media. Artif Intell Med. 2016;70:62‐76.
5. Bunescu R, Mooney R, Ramani A, Marcotte E. Integrating co‐
occurrence statistics with information extraction for robust retrieval
of protein interactions from Medline. In: Karin Verspoor KBC, Goertzel
B, Mani I, eds. Proceedings of the Workshop on Linking Natural Language
Processing and Biology: Towards Deeper Biological Literature Analysis.
New York, NY: ACL; 2006:49‐56.
6. Yang CC, Yang H, Jiang L, Zhang M. Social media mining for drug safety
signal detection. 2012. http://www.pages.drexel.edu/~hy95/publications/2012SHB.pdf. Accessed 12 September 2018.
7. Webb GI. Efficient search for association rules. Proceedings of the sixth
ACM SIGKDD international conference on Knowledge discovery and data
mining. ACM. 2000, p. 99‐107.
8. Zheng Z, Kohavi R, Mason L. Real world performance of association
rule algorithms. Proceedings of the seventh ACM SIGKDD international
conference on Knowledge discovery and data mining. ACM. 2001, p.
401‐406.
9. Apache Nutch web crawler. http://nutch.apache.org. Accessed 24 January 2019.

GAVRIELOV‐YUSIM

1317

ET AL.

10. zVigiBase,
UMC.
https://www.who‐umc.org/vigibase/vigibase.
Accessed 12 September 2018.

18. Powell GE, Seifert HA, Reblin T, et al. Social media listening for routine
post‐marketing safety surveillance. Drug Saf. 2016;39(5):443‐454.

11. RxNorm, Unified Medical Language System® (UMLS®) https://www.
nlm.nih.gov/research/umls/rxnorm/index.html. Accessed 12 September 2018.

19. Caster O, Dietrich J, Kürzinger ML, et al. Assessment of the utility of
social media for broad‐ranging statistical signal detection
in pharmacovigilance: results from the WEB‐RADR project. Drug
Saf. 2018;41(12):1355‐1369. https://doi.org/10.1007/s40264‐018‐
0699‐2

12. Lopez‐Raton M, Rodriguez‐Alvarez MX. Computing optimal cutpoints
in diagnostic tests. In: Package ‘OptimalCutpoints’ CRAN. 2014.
https://cran.r‐project.org/web/packages/OptimalCutpoints/
OptimalCutpoints.pdf. Accessed 12 September 2018.
13. Alatawi YM, Hansen RA. Empirical estimation of under‐reporting in the
U.S. Food and Drug Administration Adverse Event Reporting System
(FAERS). Expert Opin Drug Saf. 2017;16(7):761‐767.

20. Duh MS, Cremieux P, Audenrode MV, et al. Can social media data lead
to earlier detection of drug‐related adverse events? Pharmacoepidemiol
Drug Saf. 2016;25(12):1425‐1433.

14. Hazell L, Shakir SA. Under‐reporting of adverse drug reactions: a systematic review. Drug Saf. 2006;29(5):385‐396.

21. Hauben M, Aronson JK, Ferner RE. Evidence of misclassification of
drug‐event associations classified as gold standard 'negative controls'
by the Observational Medical Outcomes Partnership (OMOP). Drug
Saf. 2016;39(5):421‐432.

15. Almenoff JS, LaCroix KK, Yuen NA, Fram D, DuMouchel W. Comparative performance of two quantitative safety signalling methods:
implications for use in a pharmacovigilance department. Drug Saf.
2006;29(10):875‐887.

Nishikawa C, et al. Comparison of text processing methods in

16. Gipson G. A shrinkage‐based comparative assessment of observed‐to‐
expected disproportionality measures. Pharmacoepidemiol Drug Saf.
2012;21(6):589‐596.
17. Pierce CE, Bouri K, Pamer C, et al. Evaluation of Facebook and Twitter
monitoring to detect safety signals for medical products: an analysis of
recent FDA safety alerts. Drug Saf. 2017;40(4):317‐331.

How to cite this article: Gavrielov‐Yusim N, Kürzinger M‐L,
social media–based signal detection. Pharmacoepidemiol Drug
Saf. 2019;28:1309–1317. https://doi.org/10.1002/pds.4857

