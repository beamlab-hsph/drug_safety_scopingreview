Hindawi
Wireless Communications and Mobile Computing
Volume 2018, Article ID 2379208, 8 pages
https://doi.org/10.1155/2018/2379208

Research Article
Recognizing Continuous and Discontinuous Adverse Drug
Reaction Mentions from Social Media Using LSTM-CRF
Buzhou Tang , Jianglu Hu, Xiaolong Wang, and Qingcai Chen
Key Laboratory of Network Oriented Intelligent Computation, Shenzhen Graduate School of Harbin Institute of Technology,
Shenzhen 518055, China
Correspondence should be addressed to Buzhou Tang; tangbuzhou@gmail.com
Received 26 December 2017; Accepted 13 March 2018; Published 19 April 2018
Academic Editor: Tianyong Hao
Copyright ¬© 2018 Buzhou Tang et al. This is an open access article distributed under the Creative Commons Attribution License,
which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.
Social media in medicine, where patients can express their personal treatment experiences by personal computers and mobile
devices, usually contains plenty of useful medical information, such as adverse drug reactions (ADRs); mining this useful medical
information from social media has attracted more and more attention from researchers. In this study, we propose a deep neural
network (called LSTM-CRF) combining long short-term memory (LSTM) neural networks (a type of recurrent neural networks)
and conditional random fields (CRFs) to recognize ADR mentions from social media in medicine and investigate the effects of three
factors on ADR mention recognition. The three factors are as follows: (1) representation for continuous and discontinuous ADR
mentions: two novel representations, that is, ‚ÄúBIOHD‚Äù and ‚ÄúMultilabel,‚Äù are compared; (2) subject of posts: each post has a subject
(i.e., drug here); and (3) external knowledge bases. Experiments conducted on a benchmark corpus, that is, CADEC, show that
LSTM-CRF achieves better ùêπ-score than CRF; ‚ÄúMultilabel‚Äù is better in representing continuous and discontinuous ADR mentions
than ‚ÄúBIOHD‚Äù; both subjects of comments and external knowledge bases are individually beneficial to ADR mention recognition.
To the best of our knowledge, this is the first time to investigate deep neural networks to mine continuous and discontinuous ADRs
from social media.

1. Introduction
With rapid growth of online health social networks, such
as DailyStrength.com [1], Askapatient.com [2], MedHelp.org
[3], and PatientsLikeMe.com [4], more and more patients
share their personal health-related information through
social media posts. This information can be utilized for
public health monitoring, particularly for pharmacovigilance
via mining adverse drug reactions (ADRs) using natural
language processing techniques.
ADRs, noxious and unintended responses to medicinal
products occurring at doses normally used in man for
the prophylaxis, diagnosis or therapy of disease or for the
restoration, and correction or modification of physiological
function [5] are an essential part of drug safety. There usually
are two kinds of mechanisms to discover ADRs: (1) some of
ADRs are discovered during phase III clinical trials for drug
development and (2) some are revealed during postmarketing
surveillance. In the case of the postmarketing surveillance,

traditionally, ADRs are identified by individual patients and
their physicians using official adverse event reporting systems
(AERS). In recent years, there have been some attempts
at mining ADRs and drug-drug interactions [6, 7] from
unstructured text in clinical records, literature, and healthrelated social media, and their experimental results have
shown the effectiveness of mining ADRs from unstructured
text. In this study, we focus on recognizing ADR mentions,
including continuous and discontinuous ADR mentions,
from social media according to all comments to specific
drugs. For example, given a user‚Äôs post ‚ÄúI still have pain in
arms and legs with much stiffness.‚Äù our goal is to extract three
ADR mentions, namely, ‚Äúpain in arms,‚Äù ‚Äúpain in. . .legs,‚Äù and
‚Äústiffness,‚Äù where ‚Äúpain in arms‚Äù and ‚Äústiffness‚Äù are continuous ADR mentions composed of continuous words and
‚Äúpain in. . .legs‚Äù is a discontinuous ADR mention composed
of discontinuous words.
Although there have been a number of methods proposed
for recognizing ADR mentions from social media, most of

2
them used traditional machine learning methods such as
conditional random fields (CRFs) to recognize continuous
ADR mentions. In this work, we propose a deep neural
network (called LSTM-CRF), which combines long shortterm memory (LSTM) neural networks (a type of recurrent
neural networks, RNNs) and conditional random fields
(CRFs), to recognize both continuous and discontinuous
ADR mentions from social media. Compared to CRFs, the
advantages of LSTM-CRF lie in that LSTM neural networks
have strong expressive ability to capture long context without
time-intensive feature engineering. It has shown better performance than CRFs for some sequence labeling tasks such as
part-of-speech (POS) tagging and named entity recognition
(NER) [8].
In order to comprehensively investigate LSTM-CRF on
ADR mention recognition, we compare two novel unified
representations (i.e., ‚ÄúBIOHD‚Äù and ‚ÄúMultilabel‚Äù) for continuous and discontinuous ADR mentions and studied effects of
post subjects and external knowledge bases. All models are
evaluated on a benchmark corpus, that is, CADEC, composed
of 1250 forum posts for 12 drugs taken from AskaPatient.com,
where each post has been manually annotated with ADR
mentions. Our results show that LSTM-CRF performs better
than CRF, ‚ÄúMultilabel‚Äù is more suitable than ‚ÄúBIOHD‚Äù to
represent continuous and discontinuous ADR mentions, and
both subject of posts and external knowledge bases are
individually beneficial to ADR mention recognition.
On the whole, the contributions of this work can be
summarized as follows: (1) we introduce a deep neural
network that combines LSTM neural networks and CRFs
to recognize continuous and discontinuous ADR mentions
at first time; (2) we compare two unified representations
for continuous and discontinuous ADR mentions; (3) we
investigate the effects of post subjects and knowledge bases;
(4) we conduct empirical evaluation of all models on a
benchmark corpus.
This paper is organized as follows: in Section 2, we survey
related work; Section 3 introduces the LSTM-CRF model;
and Section 4 depicts our experiments in detail; we provide
discussion in Section 5 and Section 6 concludes the paper.
An earlier version of the paper has been presented in The 3rd
China Health Information Processing Conference (CHIP2017).

2. Related Work
In recent years, social media has been increasingly used
for medical research, especially for pharmacovigilance via
mining ADRs from health-related posts. Certain quantities
of studies have been proposed for ADR mention recognition from corpus construction to methods. Posts from
DailyStrength.com [1], Yahoo Wellness Groups [9], Askapatient.com [2], Medications.com [10], WebMD.com [11], MedHelp.org [3], SteadyHelath.com [12], PatientsLikeMe.com
[4], parenting websites [13], various disease-specific forums
such as Diabetes and Cancer [14], Twitter [15], Facebook
[16], and other websites or forums [17] have been collected
to mine ADRs. On these data, varieties of methods have

Wireless Communications and Mobile Computing
been employed to recognize ADR mentions. They may fall
into three categories: lexicon-based [18‚Äì29], pattern-based
[30, 31], and machine learning-based [32, 33]. The earliest
work, the pioneering work of Leaman et al. in 2010 [18],
utilized a lexicon-based method to recognize ADR mentions
from user posts regarding six drugs from DailyStrength.com.
In this work, 450 out of 3600 posts were used for system
development and the remanding post for system evaluation.
Although lexicon-based methods can successfully recognize
ADR mentions using several extensive and available ADR
resources, they cannot address challenges such as idiomatic
expressions and misspelled mentions. To conquer some of
them, pattern-based methods over lexicon-based methods
were proposed to detect inexact-match ADR mentions. For
example, Yates et al. [34] designed seven patterns to recognize
ADR mentions from posts regarding five drugs for breast
cancer from Askpatient.com, Drugs.com, and DrugRatingZ.com. The limitation of pattern-based methods is the
need for large amounts of data to generate patterns. Recently,
with some annotation data available, machine learningbased methods, such as CRFs, are becoming more and more
popular with promising performances, where ADR mention
recognition is considered as a sequence-labeling problem.
Sarker and Gonzalez [35] made a comprehensive review
of text mining techniques for ADR mining before 2015.
As mentioned in this review, most state-of-the-art machine
learning methods are based on CRFs with rich hand-crafted
features, and only continuous ADR mentions are taken into
account. In 2016, Pacific Symposium on Biocomputing (PSB)
launched a shared task on mining social media to exploit
natural language processing techniques for ADR extraction
in tweets, where subtask 2 is to automatically extract ADR
mentions in user posts. In this subtask, only continuous ADR
mentions were considered, and machine learning methods
based on CRFs achieved best results again [33].
Actually, discontinuous entity mentions are very common in the medical domain. As reported in [36], discontinuous disorder mentions in clinical text accounted for about
10%. In social media, discontinuous ADR mentions also usually appear. Karimi et al. [37] annotated a corpus of adverse
drug events including both continuous and discontinuous
ADR mentions, that is, CADEC. To recognize continuous
and discontinuous ADR mentions simultaneously, MetkeJimenez and Karimi [38] followed Tang et al.‚Äôs [36] way to
represent them in a unified schema and used CRFs with
baseline features, including bag-of-words, character n-grams,
and word shapes. To the best of our knowledge, this is the only
study that considered both continuous and discontinuous
ADR mentions in the task of ADR mention recognition.
There are also some other studies conducted on this corpus;
however, all of them only consider continuous ADR mentions
or convert every discontinuous ADR mention into one or
more continuous ADR mentions. For example, Tutubalina
and Nikolenko [39] proposed a method, uniting RNNs
and CRFs, to recognize ADR mentions on CADEC. They
excluded overlaps between spans of discontinuous ADRs by
selecting the longest continuous span and combining these
ADRs into a single continuous ADR.

Wireless Communications and Mobile Computing

3

Table 1: Examples of continuous and discontinuous ADR mentions represented by ‚ÄúBIOHD‚Äù and ‚ÄúMultilabel,‚Äù respectively.
Sentence 1
BIOHD
Multilabel
Sentence 2
BIOHD
Multilabel

I
O
O
I
O
O

experienced
O
O
still
O
O

severe
O
O
have
O
O

pain
DB
B
pain
HB
B
B

in
DI
I
in
HI
I
I

Deep learning methods have been increasingly applied
to solve NLP tasks in the medical domain and achieve
better performance than CRFs. In the case of ADR mention
recognition, Stanovsky et al. [40] employed RNNs with
word embeddings trained on a Blekko medical corpus in
conjunction with entity embeddings trained on DBpedia.
If an entity mention was a lexical match with one of
DBpedia entities, then the entity embeddings trained on
DBpedia replaced word embeddings of all words in the entity
mention. Tutubalina and Nikolenko [39] utilized multilayer
RNNs (LSTM and GRU) with CRFs and achieved better
performance than RNNs and CRFs individually. However,
no study focuses on applying deep learning methods to
recognize both continuous and discontinuous ADR mentions
simultaneously.

3. Methods
Before recognizing continuous and discontinuous ADR mentions, we should know how to represent them. Therefore, in
this section, we introduce representation schemas for both
continuous and discontinuous ADR mentions at first and
then machine learning methods.
3.1. Representations. Two novel representations are adopted
in our study: ‚ÄúBIOHD‚Äù and ‚ÄúMultilabel.‚Äù ‚ÄúBIOHD‚Äù is
an extension of traditionally named entity representation
schema ‚ÄúBIO‚Äù (B-beginning of a ADR mention, I-inside of a
ADR mention, O-outside of a ADR mention) by introducing
two additional tags: ‚ÄúH,‚Äù a part shared by multiple medical
mentions (e.g., ADR mentions), and ‚ÄúD,‚Äù a part of a discontinuous medical mention not shared by other mentions.
‚ÄúMultilabel‚Äù allows a token to be labeled with more than
one tag, and each tag corresponds to the position in one
mention. The number of tags a token has is determined by
how many mentions it appears in. Table 1 gives us examples of
continuous and discontinuous ADR mentions represented by
‚ÄúBIOHD‚Äù and ‚ÄúMultilabel,‚Äù respectively. In sentence 1, there
is one discontinuous ADR mention ‚Äúpain in. . .left shoulder,‚Äù
while there are two continuous ADR mentions, ‚Äústiffness‚Äù and
‚Äúpain in arms,‚Äù and one discontinuous ADR mention, ‚Äúpain
in. . .legs,‚Äù in sentence 2. The ADR mentions ‚Äúpain in arms‚Äù
and ‚Äúpain in. . .legs‚Äù in sentence 2 share the part ‚Äúpain in,‚Äù
For convenience, a token‚Äôs multiple tags can be combined
into one tag. For example, sentence 2 can be tagged with
‚ÄúI/O still/O have/O pain/B-B in/I-I arms/I-O and/O legs/O-I
with/O much/O stiffness/B-O ./O,‚Äù where each token and its

my
O
O
arms
DB
I
O

left
DI
I
and
O
O

shoulder
DI
I
legs
DB
O
I

.
O
O
with
O
O

much
O
O

stiffness
B
B
O

.
O
O

tag(s) are separated by ‚Äú/,‚Äù and multiple tags are joined by ‚Äú-.‚Äù
In this study, the maximum number of tags a token has is set
to 4 according to the statistic results from the training corpus.
3.2. LSTM-CRF. When continuous and discontinuous ADR
mentions are represented by ‚ÄúBIOHD‚Äù or ‚ÄúMultilabel,‚Äù recognizing them still can be formulated as a sequence labeling
problem. In this study, we use LSTM-CRF to model this
problem. Figure 1 illustrates the architecture of LSTM-CRF,
which is composed of three layers as follows: (1) input layer,
(2) LSTM-layer, and (3) CRF layer.
The input layer takes in different types of embeddings
of each token. The embeddings used in this study include
word embeddings, char-level embeddings, subject-related
embeddings, and knowledge-based embeddings.
The LSTM layer uses bidirectional LSTM neural networks
to generate hidden context representation at each position.
Given a sentence ùë† = ùë§1 ùë§2 ‚ãÖ ‚ãÖ ‚ãÖ ùë§ùëõ , where each word
ùë§ùë° (1 ‚â§ ùë° ‚â§ ùëõ) is represented by ùë•ùë° (i.e., concatenation
of word embeddings, char-level embeddings, subject-related
embeddings, and knowledge-based embeddings of word ùë§ùë° ),
the bidirectional LSTM neural networks take a sequence of
embeddings ùë• = ùë•1 ùë•2 ‚ãÖ ‚ãÖ ‚ãÖ ùë•ùëõ as input and output a sequence
of hidden context representations ‚Ñé = ‚Ñé1 ‚Ñé2 ‚ãÖ ‚ãÖ ‚ãÖ ‚Ñéùëõ , where ‚Ñéùë° =
[‚Ñéùëìùë° T , ‚Ñéùëèùë° T ]T (1 ‚â§ ùë° ‚â§ ùëõ) is a concatenation of the outputs of
both forward and backward LSTM neural networks.
The CRF layer takes a sequence of hidden context representations ‚Ñé = ‚Ñé1 ‚Ñé2 ‚ãÖ ‚ãÖ ‚ãÖ ‚Ñéùëõ as input, estimates the probabilities
of label sequences (from a predefined set), and returns the
one of highest probability. As shown in [41], the conditional
probability of a label sequence ùë¶ = ùë¶1 ùë¶2 ‚ãÖ ‚ãÖ ‚ãÖ ùë¶ùëõ for ‚Ñé =
‚Ñé1 ‚Ñé2 ‚ãÖ ‚ãÖ ‚ãÖ ‚Ñéùëõ is computed as follows (only taking the first-order
linear chain CRF as an example here):
ùëùùúÜ,ùúá (ùë¶ | ‚Ñé)
=

exp (‚àëùëõùë°=1 (ùúÜ ùë¶ùë°‚àí1 ùë¶ùë° + ‚ü®ùúáùë¶ùë° , ‚Ñéùë° ‚ü©))
Û∏Ä† ùë¶Û∏Ä† + ‚ü®ùúáùë¶Û∏Ä† , ‚Ñéùë° ‚ü©))
exp (‚àëùë¶Û∏Ä† ‚ààùëå(‚Ñé) ‚àëùëõùë°=1 (ùúÜ ùë¶ùë°‚àí1
ùë°
ùë°

,

(1)

where ùúÜ ùë¶ùë°‚àí1 ùë¶ùë° is the transform score for ùë¶ùë°‚àí1 ùë¶ùë° , ‚ü®ùúáùë¶ùë° , ‚Ñéùë° ‚ü© is the
emission score generating ùë¶ùë° given ‚Ñéùë° , and ùëå(‚Ñé) represents all
possible label sequences for ‚Ñé.

4. Experiments
4.1. Corpus. We use a publicly available annotated corpus
called CSIRO Adverse Drug Event Corpus (CADEC) from

4

Wireless Communications and Mobile Computing
ÔºÆÔºõÔº°1

ÔºÆÔºõÔº°2

ÔºÆÔºõÔº°3

ÔºÆÔºõÔº°4

ÔºÆÔºõÔº°5

Backward LSTM

LSTM

LSTM

LSTM

LSTM

LSTM

Forward LSTM

LSTM

LSTM

LSTM

LSTM

LSTM

Pain

in

my

left

Label sequence
CRF layer

LSTM layer

Other embeddings
Input layer

Word embeddings
Raw sentence

shoulder

Figure 1: Architecture of LSTM-CRF for continuous and discontinuous ADR mentions recognition. ‚Äútagùëñ ‚Äù is the label for the ùëñth token defined
in ‚ÄúBIOHD‚Äù or ‚ÄúMultilabel‚Äù.

AskaPatient.com to evaluate the performance of LSTMCRF. On AskaPatient.com, all comments are grouped by
drugs. CADEC contains 1250 posts about 12 drugs {Voltaren,
Cataflam, Voltaren-XR, Arthrotec, Pennsaid, Solaraze, Flector, Cambia, Zipsor, Diclofenac Sodium, Diclofenac Potassium, and Lipitor}, and the posts are manually annotated
with five types of ADR-related events {ADR, Drug, Disease,
Symptom, and Findings}. In CADEC, there are 6318 ADR
mentions, 1000 out of which are discontinuous ADR mentions, accounting for 15.83%. Among the 1000 discontinuous
ADR mentions, 918 share some parts with others, that is,
overlapping.
4.2. Evaluation Metrics. We use precision (ùëÉ), recall (ùëÖ),
ùêπ-score (ùêπ), and accuracy (Acc) to evaluate ADR mention
recognition system. They are defined as follows:
precision =

ùëõùëáùëÉ
,
ùëõùëáùëÉ + ùëõùêπùëÉ

recall =

ùëõùëáùëÉ
,
ùëõùëáùëÉ + ùëõùêπùëÅ

2 √ó precision √ó recall
F-score =
,
precision + recall
accuracy =

(2)

ùëõùëáùëÉ + ùëõùëáùëÅ
,
ùëõùëáùëÉ + ùëõùêπùëÅ + ùëõùêπùëÉ + ùëõùëáùëÅ

where ùëõùëáùëÉ is the number of ADR mentions correctly predicted by a system, ùëõùêπùëÉ is the number of ADR mentions
predicted by a system but not in the gold standard corpus,
ùëõùêπùëÅ is the number of ADR mentions in the gold standard
corpus but not predicted by a system, and ùëõùëáùëÅ is the number
of nonentities (tagged as ‚ÄúO‚Äù) correctly predicted.
Two kinds of criteria, that is, strict and relaxed, are
adopted to calculate ùëÉ, ùëÖ, ùêπ, and Acc. The strict criterion
refers to the fact that an ADR mention is correctly predicted
only when it is exactly the same as the gold-standard one.
The relaxed criterion refers to the fact that an ADR mention

is correctly predicted as long as it overlaps with the goldstandard one.
4.3. Experimental Results. We reimplement Metke-Jimenez
and Karimi‚Äôs CRF-based system [38], select LSTM-CRF only
using word embeddings and char-level embeddings as a baseline, compare LSTM-CRF with CRF, and investigate effects of
ADR mention representations, post subjects, and knowledge
bases on LSTM-CRF. The word embeddings are initialized
by GloVe [42] and 100-dimensional pretrained embeddings
on a large-scale unlabeled dataset from Wikipedia [43]. We
use bidirectional LSTM neural networks to extract char-level
embeddings. The LSTM neural networks take a character
sequence of each word (each char is represented by character
embeddings) as input and output two hidden sequence
representations. The last two outputs of the bidirectional
LSTM neural networks are simply concatenated into charlevel embeddings. The character embeddings are randomly
initialized from uniform distribution ranging in [‚àí1, 1], and
its dimension is set to 25. The dimension of the char-level
embeddings is also set to 25. The subject-related embeddings
are randomly initialized from uniform distribution ranging
in [‚àí1, 1], and their dimension is set to 10. We label each
token in a sentence with BIOES (B-beginning of a ADR
mention, I-inside of a ADR mention, O-outside of a ADR
mention, E-end of a ADR mention, and S-a single-token ADR
mention) through knowledge-based looking up, and utilize
10-dimensional embeddings, randomly initialized from uniform distribution ranging in [‚àí1, 1], to represent each token‚Äôs
label. The SIDER database (http://sideeffects.embl.de/) and
ADR lexicon (http://diego.asu.edu/downloads/publications/
ADRMine/ADR lexicon.tsv) are two knowledge bases used
in this study. All embeddings are fine-tuned during training.
As there is no fixed way to divide CADEC into two parts,
one for system development and the other one for system
evaluation, we adopt 10-fold cross-validation. Following the
previous study [8], we set other parameters of LSTM-CRF
as follows: dimension of LSTM hidden states: 100, optimizer:
SGD, learning rate: 0.005, dropout rate: 0.5, and maximum

Wireless Communications and Mobile Computing
number of epochs: 200. The results of different methods are
shown in Table 2, where the highest values are highlighted in
bold.
Table 2 shows that the methods using ‚ÄúMultilabel‚Äù outperform that using ‚ÄúBIOHD.‚Äù For example, the strict ùêπscore of CRF using ‚ÄúMultilabel‚Äù is higher than CRF using
‚ÄúBIOHD‚Äù by 0.76% (0.6060 versus 0.5984). Compared with
CRF, LSTM-CRF only using word embeddings and char-level
embeddings (denoted as LSTM-CRF (baseline)) achieves
better performance. When continuous and discontinuous
ADR mentions are represented by ‚ÄúBIOHD,‚Äù LSTM-CRF
achieves higher strict ùêπ-score than CRF by 4.92% (0.6476
versus 0.5984), while when continuous and discontinuous
ADR mentions are represented by ‚ÄúMultilabel,‚Äù LSTM-CRF
achieves higher strict ùêπ-score than CRF by 4.99% (0.6559
versus 0.6060). Both subject-based embeddings (denoted
by ‚Äúsubject‚Äù in Table 2) and knowledge-based embeddings
(denoted by ‚Äúknowledge‚Äù in Table 2) are individually beneficial to LSTM-CRF. When subject-based embeddings are
added, the strict ùêπ-score of LSTM-CRF using ‚ÄúMultilabel‚Äù is
improved from 0.6559 to 0.6636, which is the highest ùêπ-score.
When knowledge-based embeddings are added, the strict
ùêπ-score of LSTM-CRF using ‚ÄúMultilabel‚Äù is improved from
0.6559 to 0.6593. When both of them are added, LSTM-CRF
achieves a strict ùêπ-score of 0.6614, which is a slightly lower
than the highest one (i.e., 0.6636). The differences between
strict ùêπ-scores and relaxed ùêπ-scores of the same methods
exceed 20%, indicating that exactly detecting ADR mentions‚Äô
boundaries is not easy.
In addition, we also analyze the performances of different methods on continuous and discontinuous ADR
mentions, respectively, as shown in Table 3, where the
highest indices are highlighted in bold. LSTM-CRF using
‚ÄúMultilabel‚Äù representation and subject-based embeddings
achieves the highest strict ùêπ-score of 69.94% for continuous ADR mentions, while LSTM-CRF using ‚ÄúMultilabel‚Äù
representation and knowledge-based embeddings achieves
the highest strict ùêπ-score of 41.87% for discontinuous ADR
mentions. The difference between the two highest ùêπ-scores
is near 20%. The baseline LSTM-CRF achieves much higher
ùêπ-scores than CRF on continuous ADR mentions by about
5% and on discontinuous ADR mentions by about 8%. The
methods using ‚ÄúMultilabel‚Äù almost always outperform that
using ‚ÄúBIOHD‚Äù on continuous ADR mention recognition.
The strict ùêπ-score difference between the methods using the
two different representations ranges from 0.2% to 0.59%. For
discontinuous ADR mentions, the methods using ‚ÄúMultilabel‚Äù always outperform that using ‚ÄúBIOHD‚Äù by 4.93% in
average strict ùêπ-score, which is much larger than the strict ùêπscore difference between the methods using the two different
representations for continuous ADR mentions.

5. Discussion
In this study, we propose a deep neural network (i.e., LSTMCRF) to recognize continuous and discontinuous ADR mentions from medical social media, compare it with CRF, and
investigate the effects of different factors on the proposed
method. Similar to other related tasks such as NER and POS

5
tagging, LSTM-CRF outperforms CRF on continuous and
discontinuous ADR mention recognition. The methods using
‚ÄúMultilabel‚Äù outperform that using ‚ÄúBIOHD.‚Äù Both subjectbased embeddings and knowledge-based embeddings are
individually beneficial to ADR mention recognition, but
when both of them are simultaneously added, the performance is not further improved.
The reason why the methods using ‚ÄúMultilabel‚Äù outperform that using ‚ÄúBIOHD‚Äù may lie in that ‚ÄúMultilabel‚Äù has better representation ability than ‚ÄúBIOHD,‚Äù
especially for discontinuous ADR mentions. In theory,
‚ÄúMultilabel‚Äù is perfect (with a coverage of 100%), while
‚ÄúBIOHD‚Äù is imperfect [36]. The coverage of ‚ÄúBIOHD‚Äù on
CADEC is 89.36%. Because of this, the strict ùêπ-score difference between systems using ‚ÄúMultilabel‚Äù and ‚ÄúBIOHD‚Äù
for discontinuous ADR mentions is much larger than
that for continuous ADR mention, although the distributions of continuous and discontinuous ADR mentions
also affect the performance. For example, there are four
ADR mentions, ‚ÄúExtremely bad pains in hands,‚Äù ‚ÄúExtremely
bad pains in. . .arms,‚Äù ‚ÄúExtremely bad pains in. . .muscles,‚Äù
and ‚ÄúExtremely bad pains in. . .quivering,‚Äù recognized by
‚ÄúBIOHD‚Äù in ‚ÄúExtremely/HB bad/HI pains/HI in/HI hands/
DB ,/O arms/DB ,/O and/O muscles/DB are/O constantly/O
quivering/DB ./O‚Äù; however, in fact, there are only three
ADR mentions, ‚ÄúExtremely bad pains in hands,‚Äù ‚ÄúExtremely
bad pains in. . .arms,‚Äù and ‚Äúmuscles. . .quivering.‚Äù Since different drugs have different ADRs, adding subject-based
embeddings amounts to adding the relations between drugs
and their ADRs, similar to relations in knowledge bases.
It may be the reason for the improvement from subjectbased embeddings and why simultaneously adding both
the subject-based embeddings and knowledge-based embeddings does not bring further improvements.
As the distributions of continuous and discontinuous
ADR mentions are imbalanced, it is easy to understand
that the strict ùêπ-score difference of the same methods for
continuous and discontinuous ADR mentions is not small.
How to tackle data imbalance is a possible direction for
further improvement, which will be considered in the future.
Although LSTM-CRF shows much better performance
than CRF, the performance of LSTM-CRF is not very good,
indicating that recognizing continuous and discontinuous
ADR mentions from medical social media is still challenging.
The main challenge is exactly determining all words or tokens
of mentions, not some of them. The errors of LSTM may
fall into the following three categories. (1) Some modifiers
are missing. For example, there are three continuous ADR
mentions, ‚Äúlong time flatulence,‚Äù ‚ÄúAchilles tendon tightness,‚Äù
and ‚Äúdizziness,‚Äù in post ‚Äúlong time flatulence, Achilles tendon
tightness, and dizziness.‚Äù The first one is wrongly recognized
as ‚Äúflatulence.‚Äù (2) Some discontinuous ADR mentions are
wrongly recognized as continuous mentions by combining
words or tokens between all parts. For example, the discontinuous ADR mention ‚Äúhair. . .thinning‚Äù in sentence ‚ÄúI
took this drug a few years ago and went off it because my
hair started thinning.‚Äù is wrongly recognized as a continuous
ADR mention ‚Äúhair started thinning.‚Äù (3) There are some
combination errors between continuous ADR mentions and

LSTM-CRF + all

LSTM-CRF + knowledge

LSTM-CRF + subject

LSTM-CRF (baseline)

CRF

Method

BIOHD
Multilabel
BIOHD
Multilabel
BIOHD
Multilabel
BIOHD
Multilabel
BIOHD
Multilabel

Representation
ùëÉ
0.6707 ¬± 0.035
0.6865 ¬± 0.038
0.6496 ¬± 0.045
0.6616 ¬± 0.037
0.6571 ¬± 0.037
0.6780 ¬± 0.037
0.6438 ¬± 0.046
0.6682 ¬± 0.039
0.6567 ¬± 0.036
0.6633 ¬± 0.041

Strict
ùëÖ
ùêπ
0.5402 ¬± 0.026 0.5984 ¬± 0.029
0.5424 ¬± 0.028 0.6060 ¬± 0.032
0.6456 ¬± 0.034 0.6476 ¬± 0.033
0.6502 ¬± 0.035 0.6559 ¬± 0.034
0.6540 ¬± 0.029 0.6556 ¬± 0.032
0.6499 ¬± 0.035 0.6636 ¬± 0.033
0.6632 ¬± 0.034 0.6534 ¬± 0.038
0.6505 ¬± 0.031 0.6593 ¬± 0.033
0.6592 ¬± 0.03
0.6580 ¬± 0.031
0.6594 ¬± 0.027 0.6614 ¬± 0.032
Acc
0.7037 ¬± 0.017
0.7101 ¬± 0.019
0.7398 ¬± 0.02
0.7467 ¬± 0.02
0.7451 ¬± 0.019
0.7522 ¬± 0.019
0.7444 ¬± 0.023
0.7490 ¬± 0.018
0.7465 ¬± 0.017
0.7514 ¬± 0.019

ùëÉ
0.9175 ¬± 0.025
0.9177 ¬± 0.025
0.8796 ¬± 0.025
0.8880 ¬± 0.032
0.8983 ¬± 0.024
0.8928 ¬± 0.033
0.8835 ¬± 0.028
0.8858 ¬± 0.04
0.8869 ¬± 0.03
0.8896 ¬± 0.03

Table 2: Results of LSTM-CRF and CRF on CADEC.
Relaxed
ùëÖ
ùêπ
0.7700 ¬± 0.019 0.8373 ¬± 0.019
0.7702 ¬± 0.018 0.8375 ¬± 0.017
0.9213 ¬± 0.02 0.9000 ¬± 0.017
0.9106 ¬± 0.014 0.8991 ¬± 0.019
0.9141 ¬± 0.019 0.9061 ¬± 0.016
0.9167 ¬± 0.014 0.9046 ¬± 0.019
0.9164 ¬± 0.013 0.8997 ¬± 0.017
0.9139 ¬± 0.01 0.8996 ¬± 0.019
0.9212 ¬± 0.019 0.9037 ¬± 0.017
0.9213 ¬± 0.01 0.9052 ¬± 0.018

Acc
0.8892 ¬± 0.011
0.8848 ¬± 0.009
0.9346 ¬± 0.014
0.9301 ¬± 0.021
0.9501 ¬± 0.025
0.9321 ¬± 0.015
0.9488 ¬± 0.023
0.9291 ¬± 0.021
0.9424 ¬± 0.015
0.9337 ¬± 0.011

6
Wireless Communications and Mobile Computing

Wireless Communications and Mobile Computing

7

Table 3: Performances of different methods on continuous and discontinuous ADR mentions, respectively (using strict criterion).
Method
CRF
LSTM-CRF (baseline)
LSTM-CRF + subject
LSTM-CRF + knowledge
LSTM-CRF + all

Representation
BIOHD
Multilabel
BIOHD
Multilabel
BIOHD
Multilabel
BIOHD
Multilabel
BIOHD
Multilabel

Continuous ADR mention
ùëÉ
ùëÖ
ùêπ
0.6882
0.5950
0.6382
0.6896
0.5993
0.6413
0.6720
0.7002
0.6858
0.6703
0.7062
0.6877
0.6800
0.7092
0.6943
0.6882
0.7109
0.6994
0.6698
0.7165
0.6924
0.6753
0.7062
0.6904
0.6813
0.7173
0.6988
0.6718
0.7154
0.6929

discontinuous ADR mentions. For example, there are three
ADR mentions, ‚ÄúSevere pain in buttocks,‚Äù ‚ÄúSevere pain
in. . .left leg,‚Äù and ‚Äúsciatica like symptoms,‚Äù in ‚ÄúSevere pain
in buttocks and left leg sciatica like symptoms.‚Äù The last two
mentions are wrongly recognized as ‚Äúleft leg sciatica like
symptoms.‚Äù Some of these errors may be corrected by using
structures of sentences. It is another case of our future work.
The proposed representations actually provide two ways to
connect different parts of discontinues entities; therefore,
the proposed methods may have potential use for relation
extraction, such as drug-drug interaction extraction.

6. Conclusions
In this paper, we investigate deep neural network-based
ADR mention recognition. A deep neural network (called
LSTM-CRF) combining long short-term memory (LSTM)
neural networks (a type of recurrent neural networks) and
conditional random fields (CRFs) is proposed to recognize
continuous and discontinuous ADR mentions from social
media in medicine and analyze effects of ADR mention
representations, subject-based embeddings, and knowledgebased embeddings. Experiments conducted on a benchmark
corpus show that (1) LSTM-CRF outperforms CRF; (2) ‚ÄúMultilabel‚Äù representation is more suitable for continuous and
discontinuous ADR mention recognition than ‚ÄúBIOHD‚Äù;
(3) both subject-based embeddings and knowledge-based
embeddings are individually beneficial for continuous and
discontinuous ADR mention recognition. Moreover, some
possible directions for further improvement are also presented.

Conflicts of Interest
The authors declare that there are no conflicts of interest
regarding the publication of this paper.

Acknowledgments
This paper is supported in part by the following grants:
National 863 Program of China (2015AA015405), National
Natural Science Foundation of China (NSFC) (61573118,

Discontinuous ADR mention
ùëÉ
ùëÖ
ùêπ
0.3093
0.2495
0.2762
0.5217
0.2405
0.3293
0.3579
0.3563
0.3571
0.4825
0.3533
0.4079
0.3573
0.3613
0.3593
0.4400
0.3263
0.3747
0.3417
0.3802
0.3600
0.5096
0.3553
0.4187
0.3406
0.3513
0.3459
0.4841
0.3623
0.4144

61402128, 61473101, and 61472428), Special Foundation for
Technology Research Program of Guangdong Province
(2015B010131010), Strategic Emerging Industry Development
Special Funds of Shenzhen (JCYJ20160531192358466 and
JCYJ20170307150528934), Innovation Fund of Harbin Institute of Technology (HIT.NSRIF.2017052), and CCF-Tencent
Open Research Fund (RAGR20160102).

References
[1] ‚ÄúOnline Support Groups and Forums at DailyStrength,‚Äù http://
www.dailystrength.org.
[2] ‚ÄúAsk a Patients,‚Äù http://www.askapatient.com.
[3] ‚ÄúMedHelp Medical Support Communities,‚Äù http://www.medhelp.org/forums/list.
[4] ‚ÄúPatientsLikeMe: live better, together,‚Äù http://www.patientslikeme.com.
[5] Guideline ICHHT, ‚ÄúGuideline for good clinical practice,‚Äù Journal of Postgraduate Medicine, vol. 47, no. 1, pp. 45‚Äì50, 2001.
[6] I. Segura-Bedmar, P. Martƒ±ÃÅnez, and M. H. Zazo, ‚ÄúSemeval-2013
task 9: extraction of drug-drug interactions from biomedical
texts (ddiextraction 2013),‚Äù in Proceedings of the Seventh International Workshop on Semantic Evaluation (SemEval 2013), Second Joint Conference on Lexical and Computational Semantics
(‚àóSEM), vol. 2, pp. 341‚Äì350, 2013.
[7] I. Segura-Bedmar, P. Martƒ±ÃÅnez, and D. SaÃÅnchez-Cisneros, ‚ÄúThe
1st DDIExtraction-2011 challenge task: extraction of drug-drug
interactions from biomedical texts,‚Äù in Proceedings of the 1st
Challenge Task on Drug-Drug Interaction Extraction, pp. 1‚Äì9,
September 2011.
[8] Z. Huang, W. Xu, and K. Yu, ‚ÄúBidirectional LSTM-CRF models
for sequence tagging,‚Äù Computation and Language, 2015.
[9] ‚ÄúYahoo! Groups,‚Äù https://groups.yahoo.com/neo.
[10] ‚ÄúThe premier community to talk about health,‚Äù http://www
.medications.com/.
[11] WebMD, ‚ÄúBetter information. Better health,‚Äù https://www
.webmd.com/.
[12] ‚ÄúSteadyHealth ‚Äì ask, share, contribute,‚Äù http://www.steadyhealth.com/.
[13] ‚ÄúParenting.co.uk - How You Can Be a Better Parent,‚Äù http://
www.parenting.co.uk/.
[14] ‚ÄúDiabetes and Cancer,‚Äù http://www.diabetes.co.uk/diabetescomplications/diabetes-and-cancer.html.

8
[15] ‚ÄúTwitter. It‚Äôs what‚Äôs happening,‚Äù https://twitter.com/.
[16] ‚ÄúFacebook,‚Äù https://www.facebook.com/.
[17] Y. Zeng, X. Liu, Y. Wang et al., ‚ÄúRecommending education
materials for diabetic questions using information retrieval
approaches,‚Äù Journal of Medical Internet Research, vol. 19, no. 10,
2017.
[18] R. Leaman, L. Wojtulewicz, R. Sullivan et al., ‚Äúowards internetage pharmacovigilance: extracting adverse drug reactions from
user posts to health-related social networks,‚Äù in Proceedings of
the 2010 workshop on biomedical natural language processing, pp.
117‚Äì125, Association for Computational Linguistics, 2010.
[19] A. Benton, L. Ungar, S. Hill et al., ‚ÄúIdentifying potential adverse
effects using the web: A new approach to medical hypothesis
generation,‚Äù Journal of Biomedical Informatics, vol. 44, no. 6, pp.
989‚Äì996, 2011.
[20] J. Hadzi-Puric and J. Grmusa, ‚ÄúAutomatic drug adverse reaction
discovery from parenting websites using disproportionality
methods,‚Äù in Proceedings of the 2012 International Conference
on Advances in Social Networks Analysis and Mining (ASONAM
2012), pp. 792‚Äì797, IEEE Computer Society, 2012.
[21] C. C. Yang, H. Yang, L. Jiang, and M. Zhang, ‚ÄúSocial media
mining for drug safety signal detection,‚Äù in ProcEedings of the
2012 International Workshop on Smart Health and Wellbeing, pp.
33‚Äì40, 2012.
[22] X. Liu and H. Chen, ‚ÄúAZDrugMiner: an information extraction
system for mining patient-reported adverse drug events in
online patient forums,‚Äù in International Conference on Smart
Health, pp. 134‚Äì150, Springer, Berlin, Germany.
[23] S. Yeleswarapu, A. Rao, T. Joseph, V. G. Saipradeep, and R.
Srinivasan, ‚ÄúA pipeline to extract drug-adverse event pairs from
multiple data sources,‚Äù BMC Medical Informatics and Decision
Making, vol. 14, no. 1, article no. 13, 2014.
[24] C. C. Freifeld, J. S. Brownstein, C. M. Menone et al., ‚ÄúDigital
drug safety surveillance: Monitoring pharmaceutical products
in Twitter,‚Äù Drug Safety, vol. 37, no. 5, pp. 343‚Äì350, 2014.
[25] I. Segura-Bedmar, R. Revert, and P. Martƒ±ÃÅnez, ‚ÄúDetecting drugs
and adverse events from Spanish health social media streams,‚Äù
in Proceedings of the 5th International Workshop on Health Text
Mining and Information Analysis (Louhi)@ EACL, pp. 106‚Äì115,
2014.
[26] X. Liu, J. Liu, and H. Chen, ‚ÄúIdentifying adverse drug events
from health social media: A case study on heart disease discussion forums,‚Äù in International Conference on Smart Health, pp.
25‚Äì36, Springer, Cham, Switzerland, 2014.
[27] K. O‚ÄôConnor, P. Pimpalkhute, A. Nikfarjam, R. Ginn, K.
L. Smith, and G. Gonzalez, ‚ÄúPharmacovigilance on twitter?
Mining tweets for adverse drug reactions,‚Äù in AMIA Annual
Symposium Proceedings, vol. 2014, artricle 924, American Medical Informatics Association, 2014.
[28] C. C. Yang, H. Yang, and L. Jiang, ‚ÄúPostmarketing drug
safety surveillance using publicly available health-consumercontributed content in social media,‚Äù ACM Transactions on
Management Information Systems (TMIS), vol. 5, no. 1, article
no. 2, 2014.
[29] H. Sampathkumar, X.-W. Chen, and B. Luo, ‚ÄúMining adverse
drug reactions from online healthcare forums using Hidden
Markov Model,‚Äù BMC Medical Informatics and Decision Making,
vol. 14, no. 1, article 91, 2014.
[30] A. Nikfarjam and G. H. Gonzalez, ‚ÄúPattern mining for extraction of mentions of Adverse Drug Reactions from user comments,‚Äù in AMIA Annual Symposium Proceedings, vol. 2011,
article 1019, American Medical Informatics Association, 2011.

Wireless Communications and Mobile Computing
[31] A. Yates and N. Goharian, ‚ÄúADRTrace: detecting expected and
unexpected adverse drug reactions from user reviews on social
media sites,‚Äù in European Conference on Information Retrieval,
pp. 816‚Äì819, Springer, Berlin, Germany, 2013.
[32] K. Jiang and Y. Zheng, ‚ÄúMining Twitter data for potential drug
effects,‚Äù in International Conference on Advanced Data Mining
and Applications, pp. 434‚Äì443, Springer, Berlin, Germany, 2013.
[33] A. Nikfarjam, A. Sarker, K. O‚ÄôConnor, R. Ginn, and G. Gonzalez, ‚ÄúPharmacovigilance from social media: Mining adverse
drug reaction mentions using sequence labeling with word
embedding cluster features,‚Äù Journal of the American Medical
Informatics Association , vol. 22, no. 3, pp. 671‚Äì681, 2015.
[34] A. Yates, N. Goharian, and O. Frieder, ‚ÄúExtracting adverse drug
reactions from social media,‚Äù in AAAI Conference on Artificial
Intelligence, pp. 2460‚Äì2467, 2015.
[35] A. Sarker and G. Gonzalez, ‚ÄúPortable automatic text classification for adverse drug reaction detection via multi-corpus
training,‚Äù Journal of Biomedical Informatics, vol. 53, pp. 196‚Äì207,
2015.
[36] B. Tang, Q. Chen, X. Wang et al., ‚ÄúRecognizing disjoint
clinical concepts in clinical text using machine learning-based
methods,‚Äù in AMIA Annual Symposium Proceedings, vol. 2015,
article 1184, American Medical Informatics Association, 2015.
[37] S. Karimi, A. Metke-Jimenez, M. Kemp, and C. Wang, ‚ÄúCadec: A
corpus of adverse drug event annotations,‚Äù Journal of Biomedical
Informatics, vol. 55, pp. 73‚Äì81, 2015.
[38] A. Metke-Jimenez and S. Karimi, ‚ÄúConcept extraction to identify adverse drug reactions in medical forums: a comparison of
algorithms,‚Äù Artificial Intelligence, 2015.
[39] E. Tutubalina and S. Nikolenko, ‚ÄúCombination of deep recurrent neural networks and conditional random fields for extracting adverse drug reactions from user reviews,‚Äù Journal of
Healthcare Engineering, vol. 2017, Article ID 9451342, 9 pages,
2017.
[40] G. Stanovsky, D. Gruhl, and P. N. Mendes, ‚ÄúRecognizing mentions of adverse drug reaction in social media using knowledgeinfused recurrent models,‚Äù in Proceedings of the 15th Conference
of the European Chapter of the Association for Computational
Linguistics: Volume 1, Long Papers, vol. 1, pp. 142‚Äì151, 2017.
[41] J. Lafferty, A. McCallum, and F. C. N. Pereira, ‚ÄúCondiTional
Random Fields: Probabilistic Models for Segmenting and Labeling Sequence Data,‚Äù in Proceedings of the Eighteenth International Conference on Machine Learning, 2001.
[42] J. Pennington, R. Socher, and C. D. Manning, ‚ÄúGloVe: global
vectors for word representation,‚Äù in Proceedings of the 2014 Conference on Empirical Methods in Natural Language Processing
(EMNLP), vol. 14, pp. 1532‚Äì1543, 2014.
[43] ‚ÄúWikipedia,‚Äù https://www.wikipedia.org/.

International Journal of

Advances in

Rotating
Machinery

Engineering
Journal of

Hindawi
www.hindawi.com

Volume 2018

The Scientific
World Journal
Hindawi Publishing Corporation
http://www.hindawi.com
www.hindawi.com

Volume 2018
2013

Multimedia

Journal of

Sensors
Hindawi
www.hindawi.com

Volume 2018

Hindawi
www.hindawi.com

Volume 2018

Hindawi
www.hindawi.com

Volume 2018

Journal of

Control Science
and Engineering

Advances in

Civil Engineering
Hindawi
www.hindawi.com

Hindawi
www.hindawi.com

Volume 2018

Volume 2018

Submit your manuscripts at
www.hindawi.com
Journal of

Journal of

Electrical and Computer
Engineering

Robotics
Hindawi
www.hindawi.com

Hindawi
www.hindawi.com

Volume 2018

Volume 2018

VLSI Design
Advances in
OptoElectronics
International Journal of

Navigation and
Observation
Hindawi
www.hindawi.com

Volume 2018

Hindawi
www.hindawi.com

Hindawi
www.hindawi.com

Chemical Engineering
Hindawi
www.hindawi.com

Volume 2018

Volume 2018

Active and Passive
Electronic Components

Antennas and
Propagation
Hindawi
www.hindawi.com

Aerospace
Engineering

Hindawi
www.hindawi.com

Volume 2018

Hindawi
www.hindawi.com

Volume 2018

Volume 2018

International Journal of

International Journal of

International Journal of

Modelling &
Simulation
in Engineering

Volume 2018

Hindawi
www.hindawi.com

Volume 2018

Shock and Vibration
Hindawi
www.hindawi.com

Volume 2018

Advances in

Acoustics and Vibration
Hindawi
www.hindawi.com

Volume 2018

